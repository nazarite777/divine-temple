<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chakras & Auras - Divine Temple</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 3em;
            background: linear-gradient(45deg, #FFD700, #FFA500, #FF69B4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .chakra-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .chakra-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .chakra-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            background: rgba(255, 255, 255, 0.15);
        }

        .chakra-symbol {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .chakra-info h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
            text-align: center;
        }

        .chakra-info p {
            font-size: 0.9em;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .chakra-frequency {
            text-align: center;
            font-weight: bold;
            color: #FFD700;
            margin-top: 10px;
        }

        .main-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .feature-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .feature-section h2 {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #FFD700;
            text-align: center;
        }

        .chakra-assessment {
            margin-bottom: 30px;
        }

        .assessment-question {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            display: none;
        }

        .assessment-question.active {
            display: block;
        }

        .question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .answer-options {
            display: grid;
            gap: 10px;
        }

        .answer-option {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 8px;
            padding: 12px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .answer-option:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .aura-canvas {
            width: 100%;
            height: 400px;
            border-radius: 15px;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(0,0,0,0.3) 100%);
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .aura-layers {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
        }

        .aura-layer {
            position: absolute;
            border-radius: 50%;
            animation: aura-pulse 4s ease-in-out infinite;
        }

        .human-silhouette {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 120px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 40px 40px 0 0;
            z-index: 10;
        }

        @keyframes aura-pulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        .chakra-wheel {
            width: 300px;
            height: 300px;
            margin: 0 auto 20px;
            position: relative;
            border-radius: 50%;
            background: conic-gradient(
                #ff0000 0deg 51.4deg,
                #ff8c00 51.4deg 102.8deg,
                #ffff00 102.8deg 154.2deg,
                #00ff00 154.2deg 205.6deg,
                #00ffff 205.6deg 257deg,
                #4169e1 257deg 308.4deg,
                #8b00ff 308.4deg 360deg
            );
            animation: chakra-spin 20s linear infinite;
        }

        @keyframes chakra-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .chakra-points {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .chakra-point {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: white;
            border: 3px solid rgba(0,0,0,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #333;
        }

        .chakra-point:hover {
            transform: scale(1.2);
            box-shadow: 0 0 20px rgba(255,255,255,0.8);
        }

        .control-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .control-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            border-radius: 25px;
            padding: 12px 20px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .control-btn.active {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
        }

        .meditation-guide {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            display: none;
        }

        .meditation-guide.active {
            display: block;
        }

        .meditation-steps {
            list-style: none;
            counter-reset: step-counter;
        }

        .meditation-steps li {
            counter-increment: step-counter;
            margin-bottom: 15px;
            padding-left: 40px;
            position: relative;
            line-height: 1.6;
        }

        .meditation-steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8em;
        }

        .progress-display {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            height: 20px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .energy-readings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .energy-meter {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .energy-meter h4 {
            font-size: 0.9em;
            margin-bottom: 10px;
            color: #FFD700;
        }

        .meter-display {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 10px;
            position: relative;
            background: conic-gradient(#00ff00 0deg 120deg, #ffff00 120deg 240deg, #ff0000 240deg 360deg);
        }

        .meter-needle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 2px;
            height: 25px;
            background: white;
            transform-origin: bottom center;
            transform: translate(-50%, -100%) rotate(0deg);
            transition: transform 0.5s ease;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 5% auto;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .close {
            color: #fff;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }

        .close:hover {
            color: #FFD700;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 5px;
        }

        .meditation-timer {
            text-align: center;
            margin-bottom: 20px;
        }

        .timer-display {
            font-size: 3em;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 15px;
            font-family: 'Courier New', monospace;
        }

        .timer-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .main-features {
                grid-template-columns: 1fr;
            }
            
            .chakra-wheel {
                width: 250px;
                height: 250px;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🕉️ Chakras & Auras 🌈</h1>
            <p>Explore your energy centers and auric field for complete spiritual well-being</p>
        </div>

        <!-- Chakra Overview -->
        <div class="chakra-overview">
            <div class="chakra-card" data-chakra="root">
                <div class="chakra-symbol" style="background: linear-gradient(45deg, #ff0000, #cc0000);">🔺</div>
                <div class="chakra-info">
                    <h3>Root Chakra (Muladhara)</h3>
                    <p>Foundation of security, survival, and grounding. Located at the base of the spine.</p>
                    <div class="chakra-frequency">396 Hz</div>
                </div>
            </div>

            <div class="chakra-card" data-chakra="sacral">
                <div class="chakra-symbol" style="background: linear-gradient(45deg, #ff8c00, #ff6600);">🌙</div>
                <div class="chakra-info">
                    <h3>Sacral Chakra (Svadhisthana)</h3>
                    <p>Center of creativity, sexuality, and emotions. Located below the navel.</p>
                    <div class="chakra-frequency">417 Hz</div>
                </div>
            </div>

            <div class="chakra-card" data-chakra="solar">
                <div class="chakra-symbol" style="background: linear-gradient(45deg, #ffff00, #ffd700);">☀️</div>
                <div class="chakra-info">
                    <h3>Solar Plexus (Manipura)</h3>
                    <p>Source of personal power, confidence, and identity. Located above the navel.</p>
                    <div class="chakra-frequency">528 Hz</div>
                </div>
            </div>

            <div class="chakra-card" data-chakra="heart">
                <div class="chakra-symbol" style="background: linear-gradient(45deg, #00ff00, #00cc00);">💚</div>
                <div class="chakra-info">
                    <h3>Heart Chakra (Anahata)</h3>
                    <p>Center of love, compassion, and connection. Located at the heart center.</p>
                    <div class="chakra-frequency">639 Hz</div>
                </div>
            </div>

            <div class="chakra-card" data-chakra="throat">
                <div class="chakra-symbol" style="background: linear-gradient(45deg, #00ffff, #0099cc);">🗣️</div>
                <div class="chakra-info">
                    <h3>Throat Chakra (Vishuddha)</h3>
                    <p>Center of communication, truth, and expression. Located at the throat.</p>
                    <div class="chakra-frequency">741 Hz</div>
                </div>
            </div>

            <div class="chakra-card" data-chakra="third-eye">
                <div class="chakra-symbol" style="background: linear-gradient(45deg, #4169e1, #0000ff);">👁️</div>
                <div class="chakra-info">
                    <h3>Third Eye (Ajna)</h3>
                    <p>Center of intuition, wisdom, and spiritual insight. Located between the eyebrows.</p>
                    <div class="chakra-frequency">852 Hz</div>
                </div>
            </div>

            <div class="chakra-card" data-chakra="crown">
                <div class="chakra-symbol" style="background: linear-gradient(45deg, #8b00ff, #4b0082);">👑</div>
                <div class="chakra-info">
                    <h3>Crown Chakra (Sahasrara)</h3>
                    <p>Connection to divine consciousness and spiritual enlightenment. Located at the top of the head.</p>
                    <div class="chakra-frequency">963 Hz</div>
                </div>
            </div>
        </div>

        <!-- Main Features -->
        <div class="main-features">
            <!-- Chakra Assessment -->
            <div class="feature-section">
                <h2>🔍 Chakra Assessment</h2>
                <div class="chakra-assessment">
                    <div class="assessment-question active" data-question="1">
                        <div class="question-text">How do you feel about your sense of security and stability in life?</div>
                        <div class="answer-options">
                            <button class="answer-option" data-chakra="root" data-score="5">Very secure and grounded</button>
                            <button class="answer-option" data-chakra="root" data-score="4">Mostly stable</button>
                            <button class="answer-option" data-chakra="root" data-score="3">Sometimes uncertain</button>
                            <button class="answer-option" data-chakra="root" data-score="2">Often anxious</button>
                            <button class="answer-option" data-chakra="root" data-score="1">Very insecure</button>
                        </div>
                    </div>

                    <div class="assessment-question" data-question="2">
                        <div class="question-text">How do you express your creativity and passion?</div>
                        <div class="answer-options">
                            <button class="answer-option" data-chakra="sacral" data-score="5">Very creative and passionate</button>
                            <button class="answer-option" data-chakra="sacral" data-score="4">Generally creative</button>
                            <button class="answer-option" data-chakra="sacral" data-score="3">Moderately expressive</button>
                            <button class="answer-option" data-chakra="sacral" data-score="2">Limited creativity</button>
                            <button class="answer-option" data-chakra="sacral" data-score="1">Suppressed creativity</button>
                        </div>
                    </div>

                    <div class="assessment-question" data-question="3">
                        <div class="question-text">How confident do you feel about your personal power?</div>
                        <div class="answer-options">
                            <button class="answer-option" data-chakra="solar" data-score="5">Very confident and empowered</button>
                            <button class="answer-option" data-chakra="solar" data-score="4">Generally confident</button>
                            <button class="answer-option" data-chakra="solar" data-score="3">Moderately confident</button>
                            <button class="answer-option" data-chakra="solar" data-score="2">Often doubt myself</button>
                            <button class="answer-option" data-chakra="solar" data-score="1">Very low confidence</button>
                        </div>
                    </div>

                    <div class="assessment-question" data-question="4">
                        <div class="question-text">How easily do you give and receive love?</div>
                        <div class="answer-options">
                            <button class="answer-option" data-chakra="heart" data-score="5">Very open and loving</button>
                            <button class="answer-option" data-chakra="heart" data-score="4">Generally open</button>
                            <button class="answer-option" data-chakra="heart" data-score="3">Moderately open</button>
                            <button class="answer-option" data-chakra="heart" data-score="2">Somewhat guarded</button>
                            <button class="answer-option" data-chakra="heart" data-score="1">Very closed off</button>
                        </div>
                    </div>

                    <div class="assessment-question" data-question="5">
                        <div class="question-text">How clearly do you express your truth?</div>
                        <div class="answer-options">
                            <button class="answer-option" data-chakra="throat" data-score="5">Very clear and honest</button>
                            <button class="answer-option" data-chakra="throat" data-score="4">Generally truthful</button>
                            <button class="answer-option" data-chakra="throat" data-score="3">Sometimes hesitant</button>
                            <button class="answer-option" data-chakra="throat" data-score="2">Often hold back</button>
                            <button class="answer-option" data-chakra="throat" data-score="1">Difficulty expressing</button>
                        </div>
                    </div>

                    <div class="assessment-question" data-question="6">
                        <div class="question-text">How connected are you to your intuition?</div>
                        <div class="answer-options">
                            <button class="answer-option" data-chakra="third-eye" data-score="5">Very intuitive</button>
                            <button class="answer-option" data-chakra="third-eye" data-score="4">Generally intuitive</button>
                            <button class="answer-option" data-chakra="third-eye" data-score="3">Sometimes intuitive</button>
                            <button class="answer-option" data-chakra="third-eye" data-score="2">Limited intuition</button>
                            <button class="answer-option" data-chakra="third-eye" data-score="1">Very analytical</button>
                        </div>
                    </div>

                    <div class="assessment-question" data-question="7">
                        <div class="question-text">How connected do you feel to the divine/universe?</div>
                        <div class="answer-options">
                            <button class="answer-option" data-chakra="crown" data-score="5">Deeply connected</button>
                            <button class="answer-option" data-chakra="crown" data-score="4">Generally connected</button>
                            <button class="answer-option" data-chakra="crown" data-score="3">Sometimes connected</button>
                            <button class="answer-option" data-chakra="crown" data-score="2">Rarely connected</button>
                            <button class="answer-option" data-chakra="crown" data-score="1">Feel disconnected</button>
                        </div>
                    </div>
                </div>

                <div class="control-panel">
                    <button class="control-btn" onclick="startAssessment()">Start Assessment</button>
                    <button class="control-btn" onclick="showResults()">View Results</button>
                </div>

                <div class="progress-display">
                    <div class="progress-bar">
                        <div class="progress-fill" id="assessment-progress"></div>
                    </div>
                    <div>Question <span id="current-question">1</span> of 7</div>
                </div>
            </div>

            <!-- Aura Photography -->
            <div class="feature-section">
                <h2>📸 Aura Photography</h2>
                <div class="aura-canvas" id="aura-canvas">
                    <div class="aura-layers">
                        <div class="aura-layer" style="width: 100%; height: 100%; background: radial-gradient(circle, transparent 40%, rgba(255,0,0,0.3) 50%, transparent 70%);"></div>
                        <div class="aura-layer" style="width: 85%; height: 85%; top: 7.5%; left: 7.5%; background: radial-gradient(circle, transparent 40%, rgba(255,140,0,0.3) 50%, transparent 70%);"></div>
                        <div class="aura-layer" style="width: 70%; height: 70%; top: 15%; left: 15%; background: radial-gradient(circle, transparent 40%, rgba(255,255,0,0.3) 50%, transparent 70%);"></div>
                        <div class="aura-layer" style="width: 55%; height: 55%; top: 22.5%; left: 22.5%; background: radial-gradient(circle, transparent 40%, rgba(0,255,0,0.3) 50%, transparent 70%);"></div>
                        <div class="human-silhouette"></div>
                    </div>
                </div>

                <div class="control-panel">
                    <button class="control-btn" onclick="captureAura()">Capture Aura</button>
                    <button class="control-btn" onclick="analyzeAura()">Analyze Aura</button>
                    <button class="control-btn" onclick="saveAuraReading()">Save Reading</button>
                </div>

                <div class="energy-readings">
                    <div class="energy-meter">
                        <h4>Vitality</h4>
                        <div class="meter-display">
                            <div class="meter-needle" id="vitality-needle"></div>
                        </div>
                        <div id="vitality-value">75%</div>
                    </div>
                    <div class="energy-meter">
                        <h4>Emotional</h4>
                        <div class="meter-display">
                            <div class="meter-needle" id="emotional-needle"></div>
                        </div>
                        <div id="emotional-value">82%</div>
                    </div>
                    <div class="energy-meter">
                        <h4>Mental</h4>
                        <div class="meter-display">
                            <div class="meter-needle" id="mental-needle"></div>
                        </div>
                        <div id="mental-value">68%</div>
                    </div>
                    <div class="energy-meter">
                        <h4>Spiritual</h4>
                        <div class="meter-display">
                            <div class="meter-needle" id="spiritual-needle"></div>
                        </div>
                        <div id="spiritual-value">91%</div>
                    </div>
                </div>
            </div>

            <!-- Chakra Wheel -->
            <div class="feature-section">
                <h2>⚡ Interactive Chakra Wheel</h2>
                <div class="chakra-wheel">
                    <div class="chakra-points">
                        <div class="chakra-point" style="top: 90%; left: 47%;" data-chakra="root" title="Root Chakra">1</div>
                        <div class="chakra-point" style="top: 75%; left: 47%;" data-chakra="sacral" title="Sacral Chakra">2</div>
                        <div class="chakra-point" style="top: 60%; left: 47%;" data-chakra="solar" title="Solar Plexus">3</div>
                        <div class="chakra-point" style="top: 45%; left: 47%;" data-chakra="heart" title="Heart Chakra">4</div>
                        <div class="chakra-point" style="top: 30%; left: 47%;" data-chakra="throat" title="Throat Chakra">5</div>
                        <div class="chakra-point" style="top: 15%; left: 47%;" data-chakra="third-eye" title="Third Eye">6</div>
                        <div class="chakra-point" style="top: 5%; left: 47%;" data-chakra="crown" title="Crown Chakra">7</div>
                    </div>
                </div>

                <div class="control-panel">
                    <button class="control-btn" onclick="balanceAllChakras()">Balance All</button>
                    <button class="control-btn" onclick="playChakraFrequencies()">Play Frequencies</button>
                    <button class="control-btn" onclick="openChakraMeditation()">Guided Meditation</button>
                </div>
            </div>

            <!-- Energy Healing -->
            <div class="feature-section">
                <h2>🌟 Energy Healing Exercises</h2>
                
                <div class="meditation-timer">
                    <div class="timer-display" id="meditation-timer">00:00</div>
                    <div class="timer-controls">
                        <button class="control-btn" onclick="startMeditation(5)">5 min</button>
                        <button class="control-btn" onclick="startMeditation(10)">10 min</button>
                        <button class="control-btn" onclick="startMeditation(20)">20 min</button>
                        <button class="control-btn" onclick="pauseMeditation()">Pause</button>
                        <button class="control-btn" onclick="stopMeditation()">Stop</button>
                    </div>
                </div>

                <div class="meditation-guide" id="root-meditation">
                    <h3>🔺 Root Chakra Healing</h3>
                    <ol class="meditation-steps">
                        <li>Sit comfortably with your spine straight and feet on the ground</li>
                        <li>Visualize a bright red light at the base of your spine</li>
                        <li>Breathe deeply and feel this red energy growing stronger</li>
                        <li>Imagine roots growing from this chakra into the earth</li>
                        <li>Feel yourself becoming grounded and secure</li>
                        <li>Repeat the affirmation: "I am safe, secure, and grounded"</li>
                        <li>Hold this visualization for the duration of your session</li>
                    </ol>
                </div>

                <div class="meditation-guide" id="heart-meditation">
                    <h3>💚 Heart Chakra Healing</h3>
                    <ol class="meditation-steps">
                        <li>Place your hand over your heart and breathe deeply</li>
                        <li>Visualize a bright green light in your heart center</li>
                        <li>Feel this green energy expanding with each breath</li>
                        <li>Send love to yourself and all beings</li>
                        <li>Feel your heart opening and becoming more compassionate</li>
                        <li>Repeat: "I give and receive love freely and openly"</li>
                        <li>Let this loving energy fill your entire being</li>
                    </ol>
                </div>

                <div class="control-panel">
                    <button class="control-btn" onclick="showMeditation('root')">Root Healing</button>
                    <button class="control-btn" onclick="showMeditation('heart')">Heart Opening</button>
                    <button class="control-btn" onclick="showMeditation('crown')">Crown Connection</button>
                </div>
            </div>
        </div>

        <!-- Progress Stats -->
        <div class="feature-section">
            <h2>📊 Your Energy Progress</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="sessions-completed">0</div>
                    <div>Sessions Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="meditation-time">0</div>
                    <div>Minutes Meditated</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="chakras-balanced">0</div>
                    <div>Chakras Balanced</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="aura-readings">0</div>
                    <div>Aura Readings</div>
                </div>
            </div>
        </div>

        <!-- Return Button -->
        <div style="text-align: center; margin-top: 30px;">
            <button class="control-btn" onclick="window.location.href='../members-new.html'">
                🏠 Return to Dashboard
            </button>
        </div>
    </div>

    <!-- Chakra Details Modal -->
    <div id="chakra-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modal-content"></div>
        </div>
    </div>

    <script>
        class ChakraAuraSystem {
            constructor() {
                this.currentQuestion = 1;
                this.assessmentResults = {};
                this.chakraScores = {
                    root: 0, sacral: 0, solar: 0, heart: 0,
                    throat: 0, 'third-eye': 0, crown: 0
                };
                this.meditationTimer = null;
                this.meditationTime = 0;
                this.isPlaying = false;
                this.audioContext = null;
                this.oscillators = [];
                
                this.loadProgress();
                this.initializeEventListeners();
                this.updateEnergyMeters();
            }

            initializeEventListeners() {
                // Assessment answer buttons
                document.querySelectorAll('.answer-option').forEach(button => {
                    button.addEventListener('click', (e) => this.handleAnswer(e));
                });

                // Chakra card clicks
                document.querySelectorAll('.chakra-card').forEach(card => {
                    card.addEventListener('click', (e) => this.showChakraDetails(e.target.closest('.chakra-card').dataset.chakra));
                });

                // Chakra point clicks
                document.querySelectorAll('.chakra-point').forEach(point => {
                    point.addEventListener('click', (e) => this.activateChakra(e.target.dataset.chakra));
                });
            }

            handleAnswer(e) {
                const chakra = e.target.dataset.chakra;
                const score = parseInt(e.target.dataset.score);
                
                this.chakraScores[chakra] = score;
                
                if (this.currentQuestion < 7) {
                    this.nextQuestion();
                } else {
                    this.completeAssessment();
                }
            }

            nextQuestion() {
                document.querySelector('.assessment-question.active').classList.remove('active');
                this.currentQuestion++;
                document.querySelector(`[data-question="${this.currentQuestion}"]`).classList.add('active');
                document.getElementById('current-question').textContent = this.currentQuestion;
                
                const progress = (this.currentQuestion - 1) / 7 * 100;
                document.getElementById('assessment-progress').style.width = progress + '%';
            }

            completeAssessment() {
                this.saveProgress();
                this.updateStats('sessions-completed', 1);
                this.showResults();
            }

            showResults() {
                let resultHTML = '<h2>🔍 Your Chakra Assessment Results</h2>';
                
                const chakraNames = {
                    root: 'Root Chakra',
                    sacral: 'Sacral Chakra',
                    solar: 'Solar Plexus',
                    heart: 'Heart Chakra',
                    throat: 'Throat Chakra',
                    'third-eye': 'Third Eye',
                    crown: 'Crown Chakra'
                };

                for (const [chakra, score] of Object.entries(this.chakraScores)) {
                    const percentage = score * 20;
                    const status = score >= 4 ? 'Balanced' : score >= 3 ? 'Moderately Active' : 'Needs Attention';
                    const color = score >= 4 ? '#00ff00' : score >= 3 ? '#ffff00' : '#ff6666';
                    
                    resultHTML += `
                        <div style="margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                            <h4>${chakraNames[chakra]}: ${status}</h4>
                            <div style="background: rgba(255,255,255,0.2); border-radius: 10px; height: 20px; margin: 10px 0;">
                                <div style="width: ${percentage}%; height: 100%; background: ${color}; border-radius: 10px; transition: width 0.5s ease;"></div>
                            </div>
                            <p>Energy Level: ${percentage}%</p>
                        </div>
                    `;
                }

                resultHTML += `
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255,215,0,0.2); border-radius: 10px;">
                        <h4>💡 Recommendations</h4>
                        <p>Focus on meditation and energy work for chakras showing lower energy levels. Regular practice will help bring all chakras into balance.</p>
                    </div>
                `;

                document.getElementById('modal-content').innerHTML = resultHTML;
                document.getElementById('chakra-modal').style.display = 'block';
            }

            startAssessment() {
                this.currentQuestion = 1;
                this.chakraScores = { root: 0, sacral: 0, solar: 0, heart: 0, throat: 0, 'third-eye': 0, crown: 0 };
                
                document.querySelectorAll('.assessment-question').forEach(q => q.classList.remove('active'));
                document.querySelector('[data-question="1"]').classList.add('active');
                document.getElementById('current-question').textContent = '1';
                document.getElementById('assessment-progress').style.width = '0%';
            }

            captureAura() {
                // Simulate aura capture with random energy readings
                const vitality = Math.floor(Math.random() * 40) + 60;
                const emotional = Math.floor(Math.random() * 40) + 60;
                const mental = Math.floor(Math.random() * 40) + 60;
                const spiritual = Math.floor(Math.random() * 40) + 60;

                this.updateEnergyMeter('vitality', vitality);
                this.updateEnergyMeter('emotional', emotional);
                this.updateEnergyMeter('mental', mental);
                this.updateEnergyMeter('spiritual', spiritual);

                // Add visual effect
                const canvas = document.getElementById('aura-canvas');
                canvas.style.animation = 'none';
                setTimeout(() => {
                    canvas.style.animation = 'aura-pulse 2s ease-in-out';
                }, 10);

                this.updateStats('aura-readings', 1);
            }

            updateEnergyMeter(type, value) {
                const needle = document.getElementById(`${type}-needle`);
                const valueDisplay = document.getElementById(`${type}-value`);
                
                const rotation = (value / 100) * 180 - 90; // -90 to 90 degrees
                needle.style.transform = `translate(-50%, -100%) rotate(${rotation}deg)`;
                valueDisplay.textContent = `${value}%`;
            }

            updateEnergyMeters() {
                // Initialize with random values
                this.updateEnergyMeter('vitality', 75);
                this.updateEnergyMeter('emotional', 82);
                this.updateEnergyMeter('mental', 68);
                this.updateEnergyMeter('spiritual', 91);
            }

            analyzeAura() {
                const analysisHTML = `
                    <h2>🌈 Aura Analysis</h2>
                    <div style="margin-bottom: 20px;">
                        <h3>Primary Aura Colors:</h3>
                        <div style="display: grid; gap: 10px; margin: 15px 0;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="width: 20px; height: 20px; background: #00ff00; border-radius: 50%;"></div>
                                <span><strong>Green</strong> - Healing, growth, harmony</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="width: 20px; height: 20px; background: #4169e1; border-radius: 50%;"></div>
                                <span><strong>Blue</strong> - Communication, truth, calm</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="width: 20px; height: 20px; background: #ffd700; border-radius: 50%;"></div>
                                <span><strong>Yellow</strong> - Intelligence, optimism, creativity</span>
                            </div>
                        </div>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                        <h4>Interpretation:</h4>
                        <p>Your aura shows strong healing energy with excellent communication abilities. There's a beautiful balance between emotional stability and creative expression. Continue nurturing your spiritual growth.</p>
                    </div>
                `;

                document.getElementById('modal-content').innerHTML = analysisHTML;
                document.getElementById('chakra-modal').style.display = 'block';
            }

            saveAuraReading() {
                const timestamp = new Date().toISOString();
                const reading = {
                    timestamp,
                    vitality: document.getElementById('vitality-value').textContent,
                    emotional: document.getElementById('emotional-value').textContent,
                    mental: document.getElementById('mental-value').textContent,
                    spiritual: document.getElementById('spiritual-value').textContent
                };

                let readings = JSON.parse(localStorage.getItem('auraReadings') || '[]');
                readings.push(reading);
                localStorage.setItem('auraReadings', JSON.stringify(readings));

                alert('✨ Aura reading saved successfully!');
            }

            activateChakra(chakra) {
                const chakraData = {
                    root: { color: '#ff0000', frequency: 396 },
                    sacral: { color: '#ff8c00', frequency: 417 },
                    solar: { color: '#ffff00', frequency: 528 },
                    heart: { color: '#00ff00', frequency: 639 },
                    throat: { color: '#00ffff', frequency: 741 },
                    'third-eye': { color: '#4169e1', frequency: 852 },
                    crown: { color: '#8b00ff', frequency: 963 }
                };

                // Visual feedback
                const point = document.querySelector(`[data-chakra="${chakra}"]`);
                point.style.boxShadow = `0 0 30px ${chakraData[chakra].color}`;
                
                setTimeout(() => {
                    point.style.boxShadow = '';
                }, 2000);

                // Play frequency
                this.playFrequency(chakraData[chakra].frequency, 2000);
                
                this.updateStats('chakras-balanced', 1);
            }

            balanceAllChakras() {
                const chakras = ['root', 'sacral', 'solar', 'heart', 'throat', 'third-eye', 'crown'];
                let delay = 0;

                chakras.forEach(chakra => {
                    setTimeout(() => this.activateChakra(chakra), delay);
                    delay += 500;
                });

                // Update progress after all chakras are balanced
                setTimeout(() => {
                    this.updateStats('chakras-balanced', 7);
                    this.saveUniversalProgress('chakras', 'chakra_balancing', 10);
                }, delay);
            }

            playChakraFrequencies() {
                const frequencies = [396, 417, 528, 639, 741, 852, 963];
                let delay = 0;

                frequencies.forEach(freq => {
                    setTimeout(() => this.playFrequency(freq, 1000), delay);
                    delay += 1200;
                });
            }

            playFrequency(frequency, duration) {
                if (!this.audioContext) {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                }

                const oscillator = this.audioContext.createOscillator();
                const gainNode = this.audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(this.audioContext.destination);

                oscillator.frequency.value = frequency;
                oscillator.type = 'sine';

                gainNode.gain.setValueAtTime(0, this.audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.1, this.audioContext.currentTime + 0.1);
                gainNode.gain.linearRampToValueAtTime(0, this.audioContext.currentTime + duration / 1000);

                oscillator.start(this.audioContext.currentTime);
                oscillator.stop(this.audioContext.currentTime + duration / 1000);
            }

            startMeditation(minutes) {
                this.meditationTime = minutes * 60;
                this.isPlaying = true;
                
                if (this.meditationTimer) {
                    clearInterval(this.meditationTimer);
                }

                this.meditationTimer = setInterval(() => {
                    if (this.isPlaying && this.meditationTime > 0) {
                        this.meditationTime--;
                        this.updateTimerDisplay();
                    } else if (this.meditationTime <= 0) {
                        this.completeMeditation();
                    }
                }, 1000);

                this.updateTimerDisplay();
            }

            pauseMeditation() {
                this.isPlaying = !this.isPlaying;
            }

            stopMeditation() {
                if (this.meditationTimer) {
                    clearInterval(this.meditationTimer);
                }
                this.isPlaying = false;
                this.meditationTime = 0;
                this.updateTimerDisplay();
            }

            completeMeditation() {
                this.stopMeditation();
                this.updateStats('meditation-time', Math.floor(Math.random() * 20) + 5);
                this.saveUniversalProgress('chakras', 'meditation_practice', 5);
                alert('🧘‍♀️ Meditation session completed! Well done.');
            }

            updateTimerDisplay() {
                const minutes = Math.floor(this.meditationTime / 60);
                const seconds = this.meditationTime % 60;
                document.getElementById('meditation-timer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            showMeditation(type) {
                document.querySelectorAll('.meditation-guide').forEach(guide => {
                    guide.classList.remove('active');
                });
                
                document.getElementById(`${type}-meditation`).classList.add('active');
            }

            openChakraMeditation() {
                const meditationHTML = `
                    <h2>🧘‍♀️ Guided Chakra Meditation</h2>
                    <div style="margin-bottom: 20px;">
                        <h3>Complete Chakra Alignment Session</h3>
                        <ol style="line-height: 1.8; margin: 15px 0;">
                            <li>Find a comfortable seated position with spine straight</li>
                            <li>Begin with deep breathing to center yourself</li>
                            <li>Start at the root chakra, visualizing red light at the base of spine</li>
                            <li>Move up through each chakra, spending 2-3 minutes on each</li>
                            <li>Sacral (orange), Solar Plexus (yellow), Heart (green)</li>
                            <li>Throat (blue), Third Eye (indigo), Crown (violet)</li>
                            <li>Feel each chakra spinning and glowing with vibrant light</li>
                            <li>End by visualizing all chakras aligned in a column of light</li>
                        </ol>
                    </div>
                    <div style="background: rgba(255,215,0,0.2); padding: 15px; border-radius: 10px;">
                        <h4>🎵 Suggested Duration</h4>
                        <p>20-30 minutes for complete chakra alignment. Start the timer above and follow the guided steps.</p>
                    </div>
                `;

                document.getElementById('modal-content').innerHTML = meditationHTML;
                document.getElementById('chakra-modal').style.display = 'block';
            }

            showChakraDetails(chakra) {
                const chakraInfo = {
                    root: {
                        name: 'Root Chakra (Muladhara)',
                        color: '#ff0000',
                        element: 'Earth',
                        location: 'Base of spine',
                        qualities: 'Grounding, survival, security, stability',
                        imbalance: 'Fear, anxiety, restlessness, disconnection',
                        healing: 'Walking barefoot, yoga, red foods, root vegetables'
                    },
                    sacral: {
                        name: 'Sacral Chakra (Svadhisthana)',
                        color: '#ff8c00',
                        element: 'Water',
                        location: 'Below navel',
                        qualities: 'Creativity, sexuality, emotions, pleasure',
                        imbalance: 'Guilt, shame, creative blocks, emotional instability',
                        healing: 'Dancing, swimming, orange foods, creative arts'
                    },
                    solar: {
                        name: 'Solar Plexus Chakra (Manipura)',
                        color: '#ffff00',
                        element: 'Fire',
                        location: 'Above navel',
                        qualities: 'Personal power, confidence, identity, willpower',
                        imbalance: 'Low self-esteem, control issues, digestive problems',
                        healing: 'Sun gazing, core exercises, yellow foods, affirmations'
                    },
                    heart: {
                        name: 'Heart Chakra (Anahata)',
                        color: '#00ff00',
                        element: 'Air',
                        location: 'Heart center',
                        qualities: 'Love, compassion, connection, forgiveness',
                        imbalance: 'Jealousy, resentment, isolation, heart problems',
                        healing: 'Heart-opening yoga, green foods, acts of kindness'
                    },
                    throat: {
                        name: 'Throat Chakra (Vishuddha)',
                        color: '#00ffff',
                        element: 'Space/Ether',
                        location: 'Throat',
                        qualities: 'Communication, truth, expression, authenticity',
                        imbalance: 'Fear of speaking, lies, communication problems',
                        healing: 'Singing, chanting, blue foods, honest communication'
                    },
                    'third-eye': {
                        name: 'Third Eye Chakra (Ajna)',
                        color: '#4169e1',
                        element: 'Light',
                        location: 'Between eyebrows',
                        qualities: 'Intuition, wisdom, perception, spiritual insight',
                        imbalance: 'Confusion, lack of focus, mental fog, headaches',
                        healing: 'Meditation, visualization, purple foods, mindfulness'
                    },
                    crown: {
                        name: 'Crown Chakra (Sahasrara)',
                        color: '#8b00ff',
                        element: 'Thought',
                        location: 'Top of head',
                        qualities: 'Spiritual connection, enlightenment, universal consciousness',
                        imbalance: 'Spiritual disconnection, cynicism, close-mindedness',
                        healing: 'Prayer, meditation, fasting, spiritual study'
                    }
                };

                const info = chakraInfo[chakra];
                const detailHTML = `
                    <h2 style="color: ${info.color};">${info.name}</h2>
                    <div style="display: grid; gap: 15px; margin: 20px 0;">
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                            <h4>📍 Location:</h4>
                            <p>${info.location}</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                            <h4>🌟 Element:</h4>
                            <p>${info.element}</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                            <h4>✨ Qualities:</h4>
                            <p>${info.qualities}</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                            <h4>⚠️ When Imbalanced:</h4>
                            <p>${info.imbalance}</p>
                        </div>
                        <div style="background: rgba(255,215,0,0.2); padding: 15px; border-radius: 10px;">
                            <h4>🌿 Healing Methods:</h4>
                            <p>${info.healing}</p>
                        </div>
                    </div>
                `;

                document.getElementById('modal-content').innerHTML = detailHTML;
                document.getElementById('chakra-modal').style.display = 'block';
            }

            updateStats(statId, increment) {
                const currentValue = parseInt(localStorage.getItem(`chakra_${statId}`) || '0');
                const newValue = currentValue + increment;
                localStorage.setItem(`chakra_${statId}`, newValue.toString());
                document.getElementById(statId).textContent = newValue;
            }

            loadProgress() {
                // Load stats
                document.getElementById('sessions-completed').textContent = 
                    localStorage.getItem('chakra_sessions-completed') || '0';
                document.getElementById('meditation-time').textContent = 
                    localStorage.getItem('chakra_meditation-time') || '0';
                document.getElementById('chakras-balanced').textContent = 
                    localStorage.getItem('chakra_chakras-balanced') || '0';
                document.getElementById('aura-readings').textContent = 
                    localStorage.getItem('chakra_aura-readings') || '0';
            }

            saveProgress() {
                const progressData = {
                    timestamp: new Date().toISOString(),
                    chakraScores: this.chakraScores,
                    stats: {
                        sessions: localStorage.getItem('chakra_sessions-completed') || '0',
                        meditation: localStorage.getItem('chakra_meditation-time') || '0',
                        balanced: localStorage.getItem('chakra_chakras-balanced') || '0',
                        readings: localStorage.getItem('chakra_aura-readings') || '0'
                    }
                };

                localStorage.setItem('chakraProgress', JSON.stringify(progressData));
            }

            saveUniversalProgress(section, activity, points) {
                // Integration with Universal Progress System
                const event = new CustomEvent('updateProgress', {
                    detail: {
                        section: section,
                        activity: activity,
                        points: points,
                        timestamp: new Date().toISOString()
                    }
                });
                window.dispatchEvent(event);
            }
        }

        // Global functions
        function startAssessment() {
            chakraSystem.startAssessment();
        }

        function showResults() {
            chakraSystem.showResults();
        }

        function captureAura() {
            chakraSystem.captureAura();
        }

        function analyzeAura() {
            chakraSystem.analyzeAura();
        }

        function saveAuraReading() {
            chakraSystem.saveAuraReading();
        }

        function balanceAllChakras() {
            chakraSystem.balanceAllChakras();
        }

        function playChakraFrequencies() {
            chakraSystem.playChakraFrequencies();
        }

        function openChakraMeditation() {
            chakraSystem.openChakraMeditation();
        }

        function startMeditation(minutes) {
            chakraSystem.startMeditation(minutes);
        }

        function pauseMeditation() {
            chakraSystem.pauseMeditation();
        }

        function stopMeditation() {
            chakraSystem.stopMeditation();
        }

        function showMeditation(type) {
            chakraSystem.showMeditation(type);
        }

        function closeModal() {
            document.getElementById('chakra-modal').style.display = 'none';
        }

        // Initialize system
        let chakraSystem;
        
        document.addEventListener('DOMContentLoaded', function() {
            chakraSystem = new ChakraAuraSystem();
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('chakra-modal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        };
    </script>
</body>
</html>