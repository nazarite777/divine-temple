class MultiLanguageSystem{constructor(){this.currentLanguage=this.loadLanguage(),this.translations={},this.fallbackLanguage="en",this.supportedLanguages=this.getSupportedLanguages(),this.rtlLanguages=["ar","he","fa","ur"],this.init()}async init(){console.log("üåç Multi-Language System initialized"),await this.loadTranslations(this.currentLanguage),this.applyLanguage(),this.setupDynamicTranslation()}getSupportedLanguages(){return[{code:"en",name:"English",nativeName:"English",flag:"üá∫üá∏",rtl:!1},{code:"es",name:"Spanish",nativeName:"Espa√±ol",flag:"üá™üá∏",rtl:!1},{code:"fr",name:"French",nativeName:"Fran√ßais",flag:"üá´üá∑",rtl:!1},{code:"de",name:"German",nativeName:"Deutsch",flag:"üá©üá™",rtl:!1},{code:"hi",name:"Hindi",nativeName:"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä",flag:"üáÆüá≥",rtl:!1},{code:"sa",name:"Sanskrit",nativeName:"‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§Æ‡•ç",flag:"üïâÔ∏è",rtl:!1},{code:"zh-CN",name:"Chinese (Simplified)",nativeName:"ÁÆÄ‰Ωì‰∏≠Êñá",flag:"üá®üá≥",rtl:!1},{code:"ja",name:"Japanese",nativeName:"Êó•Êú¨Ë™û",flag:"üáØüáµ",rtl:!1},{code:"ar",name:"Arabic",nativeName:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ©",flag:"üá∏üá¶",rtl:!0},{code:"pt",name:"Portuguese",nativeName:"Portugu√™s",flag:"üáµüáπ",rtl:!1}]}async loadTranslations(e){const n=this.getTranslationData(e);this.translations[e]=n}getTranslationData(e){const n={en:{common:{welcome:"Welcome",login:"Login",logout:"Logout",signup:"Sign Up",email:"Email",password:"Password",submit:"Submit",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",close:"Close",loading:"Loading...",error:"Error",success:"Success",yes:"Yes",no:"No",confirm:"Confirm",back:"Back",next:"Next",finish:"Finish",search:"Search"},navigation:{home:"Home",dashboard:"Dashboard",profile:"Profile",settings:"Settings",help:"Help",about:"About"},dashboard:{title:"Spiritual Dashboard",welcome_message:"Welcome to your spiritual journey",daily_quests:"Daily Quests",progress:"Progress",achievements:"Achievements",level:"Level",xp:"XP",streak:"Day Streak"},quests:{daily:"Daily Quests",complete:"Complete",pending:"Pending",reward:"Reward",description:"Description"},meditation:{title:"Meditation",start:"Start Meditation",duration:"Duration",minutes:"minutes",guidance:"Guided",silent:"Silent"},social:{friends:"Friends",add_friend:"Add Friend",circles:"Circles",create_circle:"Create Circle",join_circle:"Join Circle",messages:"Messages",activity:"Activity"},achievements:{title:"Achievements",unlocked:"Unlocked",locked:"Locked",progress:"Progress",reward:"Reward"},settings:{title:"Settings",language:"Language",notifications:"Notifications",privacy:"Privacy",account:"Account",theme:"Theme",dark_mode:"Dark Mode"},messages:{welcome_back:"Welcome back, {name}!",level_up:"Congratulations! You reached Level {level}!",xp_earned:"+{amount} XP earned",achievement_unlocked:"Achievement Unlocked: {name}",quest_completed:"Quest completed: {name}",friend_request:"{name} sent you a friend request",circle_invitation:"You have been invited to {circle}"},plurals:{day:"{count} day | {count} days",hour:"{count} hour | {count} hours",minute:"{count} minute | {count} minutes",friend:"{count} friend | {count} friends",achievement:"{count} achievement | {count} achievements"}},es:{common:{welcome:"Bienvenido",login:"Iniciar sesi√≥n",logout:"Cerrar sesi√≥n",signup:"Registrarse",email:"Correo electr√≥nico",password:"Contrase√±a",submit:"Enviar",cancel:"Cancelar",save:"Guardar",delete:"Eliminar",edit:"Editar",close:"Cerrar",loading:"Cargando...",error:"Error",success:"√âxito",yes:"S√≠",no:"No",confirm:"Confirmar",back:"Atr√°s",next:"Siguiente",finish:"Finalizar",search:"Buscar"},navigation:{home:"Inicio",dashboard:"Panel",profile:"Perfil",settings:"Configuraci√≥n",help:"Ayuda",about:"Acerca de"},dashboard:{title:"Panel Espiritual",welcome_message:"Bienvenido a tu viaje espiritual",daily_quests:"Misiones Diarias",progress:"Progreso",achievements:"Logros",level:"Nivel",xp:"XP",streak:"Racha de D√≠as"},messages:{welcome_back:"¬°Bienvenido de nuevo, {name}!",level_up:"¬°Felicidades! ¬°Alcanzaste el Nivel {level}!",xp_earned:"+{amount} XP ganado",achievement_unlocked:"Logro Desbloqueado: {name}",quest_completed:"Misi√≥n completada: {name}"}},fr:{common:{welcome:"Bienvenue",login:"Connexion",logout:"D√©connexion",signup:"S'inscrire",email:"Email",password:"Mot de passe",submit:"Soumettre",cancel:"Annuler",save:"Sauvegarder",delete:"Supprimer",edit:"Modifier",close:"Fermer",loading:"Chargement...",error:"Erreur",success:"Succ√®s",search:"Rechercher"},dashboard:{title:"Tableau de Bord Spirituel",welcome_message:"Bienvenue dans votre voyage spirituel",daily_quests:"Qu√™tes Quotidiennes",progress:"Progr√®s",level:"Niveau",xp:"XP"}},hi:{common:{welcome:"‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à",login:"‡§≤‡•â‡§ó ‡§á‡§® ‡§ï‡§∞‡•á‡§Ç",logout:"‡§≤‡•â‡§ó ‡§Ü‡§â‡§ü",signup:"‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç",email:"‡§à‡§Æ‡•á‡§≤",password:"‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°",submit:"‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç",cancel:"‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç",save:"‡§∏‡§π‡•á‡§ú‡•á‡§Ç",search:"‡§ñ‡•ã‡§ú‡•á‡§Ç"},dashboard:{title:"‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",welcome_message:"‡§Ö‡§™‡§®‡•Ä ‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à",daily_quests:"‡§¶‡•à‡§®‡§ø‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø",progress:"‡§™‡•ç‡§∞‡§ó‡§§‡§ø",achievements:"‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§ø‡§Ø‡§æ‡§Å",level:"‡§∏‡•ç‡§§‡§∞",xp:"‡§Ö‡§®‡•Å‡§≠‡§µ ‡§Ö‡§Ç‡§ï"}},sa:{common:{welcome:"‡§∏‡•ç‡§µ‡§æ‡§ó‡§§‡§Æ‡•ç",login:"‡§™‡•ç‡§∞‡§µ‡•á‡§∂‡§É",logout:"‡§®‡§ø‡§∞‡•ç‡§ó‡§Æ‡§®‡§Æ‡•ç",search:"‡§Ö‡§®‡•ç‡§µ‡•á‡§∑‡§£‡§Æ‡•ç"},dashboard:{title:"‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§™‡§ü‡§≤‡§Æ‡•ç",daily_quests:"‡§¶‡•à‡§®‡§ø‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§æ‡§£‡§ø",progress:"‡§™‡•ç‡§∞‡§ó‡§§‡§ø‡§É",level:"‡§∏‡•ç‡§§‡§∞‡§É"}},"zh-CN":{common:{welcome:"Ê¨¢Ëøé",login:"ÁôªÂΩï",logout:"ÁôªÂá∫",signup:"Ê≥®ÂÜå",email:"ÁîµÂ≠êÈÇÆ‰ª∂",password:"ÂØÜÁ†Å",submit:"Êèê‰∫§",cancel:"ÂèñÊ∂à",save:"‰øùÂ≠ò",search:"ÊêúÁ¥¢"},dashboard:{title:"ÁÅµÊÄß‰ª™Ë°®Êùø",welcome_message:"Ê¨¢ËøéÊù•Âà∞ÊÇ®ÁöÑÁÅµÊÄß‰πãÊóÖ",daily_quests:"ÊØèÊó•‰ªªÂä°",progress:"ËøõÂ∫¶",achievements:"ÊàêÂ∞±",level:"Á≠âÁ∫ß",xp:"ÁªèÈ™åÂÄº"}},ja:{common:{welcome:"„Çà„ÅÜ„Åì„Åù",login:"„É≠„Ç∞„Ç§„É≥",logout:"„É≠„Ç∞„Ç¢„Ç¶„Éà",signup:"Êñ∞Ë¶èÁôªÈå≤",email:"„É°„Éº„É´",password:"„Éë„Çπ„ÉØ„Éº„Éâ",submit:"ÈÄÅ‰ø°",cancel:"„Ç≠„É£„É≥„Çª„É´",save:"‰øùÂ≠ò",search:"Ê§úÁ¥¢"},dashboard:{title:"„Çπ„Éî„É™„ÉÅ„É•„Ç¢„É´„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ",welcome_message:"„ÅÇ„Å™„Åü„ÅÆ„Çπ„Éî„É™„ÉÅ„É•„Ç¢„É´„Å™ÊóÖ„Å∏„Çà„ÅÜ„Åì„Åù",daily_quests:"„Éá„Ç§„É™„Éº„ÇØ„Ç®„Çπ„Éà",progress:"ÈÄ≤Êçó",achievements:"ÂÆüÁ∏æ",level:"„É¨„Éô„É´",xp:"ÁµåÈ®ìÂÄ§"}},ar:{common:{welcome:"ŸÖÿ±ÿ≠ÿ®ÿßŸã",login:"ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ",logout:"ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨",signup:"ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ",email:"ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä",password:"ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±",submit:"ÿ•ÿ±ÿ≥ÿßŸÑ",cancel:"ÿ•ŸÑÿ∫ÿßÿ°",save:"ÿ≠ŸÅÿ∏",search:"ÿ®ÿ≠ÿ´"},dashboard:{title:"ŸÑŸàÿ≠ÿ© ÿßŸÑŸÇŸäÿßÿØÿ© ÿßŸÑÿ±Ÿàÿ≠Ÿäÿ©",welcome_message:"ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ÿ±ÿ≠ŸÑÿ™ŸÉ ÿßŸÑÿ±Ÿàÿ≠Ÿäÿ©",daily_quests:"ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑŸäŸàŸÖŸäÿ©",progress:"ÿßŸÑÿ™ŸÇÿØŸÖ",achievements:"ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤ÿßÿ™",level:"ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ",xp:"ŸÜŸÇÿßÿ∑ ÿßŸÑÿÆÿ®ÿ±ÿ©"}},pt:{common:{welcome:"Bem-vindo",login:"Entrar",logout:"Sair",signup:"Cadastrar",email:"Email",password:"Senha",submit:"Enviar",cancel:"Cancelar",save:"Salvar",search:"Pesquisar"},dashboard:{title:"Painel Espiritual",welcome_message:"Bem-vindo √† sua jornada espiritual",daily_quests:"Miss√µes Di√°rias",progress:"Progresso",achievements:"Conquistas",level:"N√≠vel",xp:"XP"}}};return n[e]||n[this.fallbackLanguage]}t(e,n={}){const a=e.split(".");let t=this.translations[this.currentLanguage];for(const n of a){if(!t||!t[n]){t=this.translations[this.fallbackLanguage];for(const n of a){if(!t||!t[n])return e;t=t[n]}break}t=t[n]}if("string"!=typeof t)return e;let i=t;for(const[e,a]of Object.entries(n))i=i.replace(`{${e}}`,a);return i}plural(e,n){const a=this.t(e).split("|").map(e=>e.trim());let t;return t=1===n?a[0]:a[1]||a[0],t.replace("{count}",n)}async changeLanguage(e){if(!this.supportedLanguages.find(n=>n.code===e))return console.error("Unsupported language:",e),!1;if(this.currentLanguage=e,this.translations[e]||await this.loadTranslations(e),this.saveLanguage(),this.applyLanguage(),window.progressSystem){const n=this.supportedLanguages.find(n=>n.code===e);window.progressSystem.awardXP(10,`Changed language to ${n.name}`,"settings")}return window.dispatchEvent(new CustomEvent("language-changed",{detail:{language:e}})),!0}applyLanguage(){document.documentElement.lang=this.currentLanguage,this.isRTL()?(document.documentElement.dir="rtl",document.body.classList.add("rtl")):(document.documentElement.dir="ltr",document.body.classList.remove("rtl")),this.translatePage()}translatePage(){document.querySelectorAll("[data-i18n]").forEach(e=>{const n=e.getAttribute("data-i18n"),a=this.t(n);e.hasAttribute("data-i18n-placeholder")?e.placeholder=a:e.hasAttribute("data-i18n-title")?e.title=a:e.textContent=a})}setupDynamicTranslation(){new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.length&&e.addedNodes.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e.querySelectorAll("[data-i18n]");if(e.hasAttribute?.("data-i18n")){const n=e.getAttribute("data-i18n");e.textContent=this.t(n)}n.forEach(e=>{const n=e.getAttribute("data-i18n");e.textContent=this.t(n)})}})})}).observe(document.body,{childList:!0,subtree:!0})}isRTL(){return this.rtlLanguages.includes(this.currentLanguage)}getCurrentLanguage(){return this.currentLanguage}getCurrentLanguageInfo(){return this.supportedLanguages.find(e=>e.code===this.currentLanguage)}formatDate(e,n={}){const a=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat(this.currentLanguage,n).format(a)}formatNumber(e,n={}){return new Intl.NumberFormat(this.currentLanguage,n).format(e)}formatCurrency(e,n="USD"){return new Intl.NumberFormat(this.currentLanguage,{style:"currency",currency:n}).format(e)}openLanguageSwitcher(){const e=document.createElement("div");e.className="language-switcher-modal",e.id="languageSwitcherModal";const n=this.getCurrentLanguageInfo();e.innerHTML=`\n            <div class="language-modal-content">\n                <div class="language-modal-header">\n                    <h2>üåç ${this.t("settings.language")}</h2>\n                    <button onclick="document.getElementById('languageSwitcherModal').remove()" class="modal-close">‚úï</button>\n                </div>\n\n                <div class="current-language">\n                    <div class="current-lang-label">${this.t("common.current")}:</div>\n                    <div class="current-lang-display">\n                        <span class="lang-flag">${n.flag}</span>\n                        <span class="lang-name">${n.nativeName}</span>\n                    </div>\n                </div>\n\n                <div class="language-list">\n                    ${this.supportedLanguages.map(e=>`\n                        <button class="language-option ${e.code===this.currentLanguage?"active":""}"\n                                onclick="window.multiLanguageSystem.selectLanguage('${e.code}')">\n                            <span class="lang-flag">${e.flag}</span>\n                            <div class="lang-info">\n                                <div class="lang-native">${e.nativeName}</div>\n                                <div class="lang-english">${e.name}</div>\n                            </div>\n                            ${e.code===this.currentLanguage?'<span class="lang-checkmark">‚úì</span>':""}\n                        </button>\n                    `).join("")}\n                </div>\n            </div>\n        `,this.addLanguageSwitcherStyles(),document.body.appendChild(e)}async selectLanguage(e){await this.changeLanguage(e),document.getElementById("languageSwitcherModal").remove();const n=this.supportedLanguages.find(n=>n.code===e);alert(`Language changed to ${n.nativeName}!`)}addLanguageSwitcherStyles(){if(document.getElementById("languageSwitcherStyles"))return;const e=document.createElement("style");e.id="languageSwitcherStyles",e.textContent="\n            .language-switcher-modal {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: rgba(0,0,0,0.8);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 10000;\n                animation: fadeIn 0.3s ease;\n            }\n\n            .language-modal-content {\n                background: white;\n                border-radius: 20px;\n                width: 90%;\n                max-width: 600px;\n                max-height: 90vh;\n                overflow: hidden;\n                display: flex;\n                flex-direction: column;\n            }\n\n            .language-modal-header {\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                color: white;\n                padding: 25px 30px;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n\n            .language-modal-header h2 {\n                margin: 0;\n            }\n\n            .modal-close {\n                background: rgba(255,255,255,0.2);\n                border: none;\n                color: white;\n                width: 32px;\n                height: 32px;\n                border-radius: 50%;\n                cursor: pointer;\n                font-size: 20px;\n            }\n\n            .current-language {\n                padding: 20px 30px;\n                background: #f9f9f9;\n                border-bottom: 2px solid #e0e0e0;\n            }\n\n            .current-lang-label {\n                font-size: 13px;\n                font-weight: 600;\n                color: #666;\n                margin-bottom: 8px;\n            }\n\n            .current-lang-display {\n                display: flex;\n                align-items: center;\n                gap: 12px;\n            }\n\n            .lang-flag {\n                font-size: 32px;\n            }\n\n            .lang-name {\n                font-size: 20px;\n                font-weight: 600;\n            }\n\n            .language-list {\n                flex: 1;\n                overflow-y: auto;\n                padding: 15px;\n            }\n\n            .language-option {\n                width: 100%;\n                display: flex;\n                align-items: center;\n                gap: 15px;\n                padding: 15px;\n                margin-bottom: 10px;\n                border: 2px solid #e0e0e0;\n                background: white;\n                border-radius: 12px;\n                cursor: pointer;\n                transition: all 0.2s;\n                position: relative;\n            }\n\n            .language-option:hover {\n                border-color: #667eea;\n                background: #f9f9ff;\n            }\n\n            .language-option.active {\n                border-color: #667eea;\n                background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n            }\n\n            .language-option .lang-flag {\n                font-size: 36px;\n            }\n\n            .lang-info {\n                flex: 1;\n                text-align: left;\n            }\n\n            .lang-native {\n                font-size: 18px;\n                font-weight: 600;\n                margin-bottom: 3px;\n            }\n\n            .lang-english {\n                font-size: 13px;\n                color: #666;\n            }\n\n            .lang-checkmark {\n                color: #667eea;\n                font-size: 24px;\n                font-weight: bold;\n            }\n\n            /* RTL Support */\n            .rtl .language-option {\n                text-align: right;\n            }\n\n            @keyframes fadeIn {\n                from { opacity: 0; }\n                to { opacity: 1; }\n            }\n        ",document.head.appendChild(e)}loadLanguage(){const e=localStorage.getItem("preferred_language");if(e&&this.supportedLanguages.find(n=>n.code===e))return e;const n=(navigator.language||navigator.userLanguage).split("-")[0];return this.supportedLanguages.find(e=>e.code===n)?n:this.fallbackLanguage}saveLanguage(){localStorage.setItem("preferred_language",this.currentLanguage)}}"undefined"!=typeof window&&(window.multiLanguageSystem=new MultiLanguageSystem,console.log("üåç Multi-Language System ready!"),window.t=(e,n)=>window.multiLanguageSystem.t(e,n),window.plural=(e,n)=>window.multiLanguageSystem.plural(e,n));