class QuestNotifications{constructor(){this.lastProgress={},this.init()}init(){console.log("ðŸ”” Initializing Quest Notifications..."),this.waitForQuestsSystem().then(()=>{window.addEventListener("questsUpdated",n=>this.handleQuestUpdate(n.detail)),console.log("âœ… Quest Notifications ready")})}async waitForQuestsSystem(){return new Promise(n=>{const t=()=>{window.dailyQuests&&window.dailyQuests.isInitialized?n():setTimeout(t,100)};t()})}handleQuestUpdate(n){n.quests.forEach(n=>{const t=this.lastProgress[n.id]||0,e=n.progress;e>t&&!n.completed&&this.showProgressNotification(n,e-t),this.lastProgress[n.id]=e})}showProgressNotification(n,t){const e=Math.min(100,n.progress/n.target*100),i=n.target-n.progress,s=document.createElement("div");s.className="quest-progress-notification",s.innerHTML=`\n            <style>\n                .quest-progress-notification {\n                    position: fixed;\n                    bottom: 2rem;\n                    right: 2rem;\n                    background: linear-gradient(135deg, rgba(79, 195, 247, 0.95), rgba(102, 187, 106, 0.95));\n                    backdrop-filter: blur(20px);\n                    border-radius: 15px;\n                    padding: 1rem 1.5rem;\n                    box-shadow: 0 10px 30px rgba(79, 195, 247, 0.4);\n                    z-index: 99999;\n                    animation: slideInUp 0.4s ease, slideOutDown 0.4s ease 2.6s;\n                    min-width: 320px;\n                    max-width: 400px;\n                }\n\n                .quest-notif-content {\n                    display: flex;\n                    align-items: center;\n                    gap: 1rem;\n                    color: white;\n                }\n\n                .quest-notif-icon {\n                    font-size: 2rem;\n                    flex-shrink: 0;\n                }\n\n                .quest-notif-text {\n                    flex: 1;\n                }\n\n                .quest-notif-title {\n                    font-weight: 700;\n                    font-size: 0.9rem;\n                    margin-bottom: 0.25rem;\n                    display: flex;\n                    align-items: center;\n                    gap: 0.5rem;\n                }\n\n                .quest-notif-progress {\n                    font-size: 0.85rem;\n                    opacity: 0.9;\n                }\n\n                .quest-notif-bar {\n                    height: 4px;\n                    background: rgba(255, 255, 255, 0.3);\n                    border-radius: 2px;\n                    margin-top: 0.5rem;\n                    overflow: hidden;\n                }\n\n                .quest-notif-bar-fill {\n                    height: 100%;\n                    background: white;\n                    border-radius: 2px;\n                    transition: width 0.5s ease;\n                }\n\n                @keyframes slideInUp {\n                    from {\n                        transform: translateY(100px);\n                        opacity: 0;\n                    }\n                    to {\n                        transform: translateY(0);\n                        opacity: 1;\n                    }\n                }\n\n                @keyframes slideOutDown {\n                    from {\n                        transform: translateY(0);\n                        opacity: 1;\n                    }\n                    to {\n                        transform: translateY(100px);\n                        opacity: 0;\n                    }\n                }\n\n                @media (max-width: 768px) {\n                    .quest-progress-notification {\n                        bottom: 1rem;\n                        right: 1rem;\n                        left: 1rem;\n                        min-width: auto;\n                    }\n                }\n            </style>\n            <div class="quest-notif-content">\n                <div class="quest-notif-icon">${n.icon}</div>\n                <div class="quest-notif-text">\n                    <div class="quest-notif-title">\n                        <span>Quest Progress</span>\n                        <span style="color: #FFD700;">+${t}</span>\n                    </div>\n                    <div class="quest-notif-progress">\n                        ${n.name}: ${n.progress}/${n.target}\n                        ${i>0?`(${i} more!)`:""}\n                    </div>\n                    <div class="quest-notif-bar">\n                        <div class="quest-notif-bar-fill" style="width: ${e}%"></div>\n                    </div>\n                </div>\n            </div>\n        `,document.body.appendChild(s),window.divineAudio&&window.divineAudio.playBell(528,1),setTimeout(()=>s.remove(),3e3)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.questNotifications=new QuestNotifications}):window.questNotifications=new QuestNotifications,console.log("ðŸ”” Quest Notifications loaded");