document.addEventListener("DOMContentLoaded",()=>{console.log("ğŸ›ï¸ Initializing Soundboard Integration...");const o={rain:!0,thunder:!0,wind:!0,crickets:!0,owl:!0,frogs:!0,cicadas:!0,birds:!0,wolf:!0,ocean:!0,stream:!0,fire:!0,leaves:!0,chimes:!1,bowl:!1,brown:!1},e=window.toggleSound,i=window.setVolume,n=window.startSound;window.stopSound;window.toggleSound=async function(i,s){if(console.log(`ğŸµ Toggle ${i}: ${s}`),o[i]&&window.realisticAudio)try{if(s){if(window.realisticAudio.audioFiles[i]){console.log(`ğŸŒ Using real audio for ${i}`),await window.realisticAudio.playSound(i);const o=document.getElementById(`volume-${i}`);if(o){const e=parseInt(o.value)/100;window.realisticAudio.setVolume(i,e)}}else console.log(`âš ï¸ Real audio not found for ${i}, using synthesis`),n&&n(i)}else await window.realisticAudio.stopSound(i);return void saveSoundPreferences()}catch(o){console.warn(`âš ï¸ Real audio failed for ${i}, falling back to synthesis:`,o),e&&e(i,s)}else console.log(`ğŸ¹ Using synthesis for ${i}`),e&&e(i,s)},window.setVolume=function(e,n){const s=document.getElementById(`value-${e}`);s&&(s.textContent=n+"%");const l=parseInt(n)/100;o[e]&&window.realisticAudio&&window.realisticAudio.isPlaying(e)&&window.realisticAudio.setVolume(e,l),i&&i(e,n),saveSoundPreferences()};const s=window.setMasterVolume;window.setMasterVolume=function(o){console.log(`ğŸ”Š Master volume: ${o}%`);const e=parseInt(o)/100;window.realisticAudio&&window.realisticAudio.setMasterVolume(e),s&&s(o);const i=document.getElementById("masterVolumeValue");i&&(i.textContent=o+"%"),localStorage.setItem("masterVolume",o)};const l=window.openSoundDashboard;window.openSoundDashboard=function(){window.realisticAudio&&!window.realisticAudio.initialized&&window.realisticAudio.init().then(()=>{console.log("âœ… Real audio system initialized")}).catch(o=>{console.warn("âš ï¸ Real audio init failed:",o)}),l&&l()};window.applyPreset;window.applyPreset=function(o){console.log(`ğŸ¨ Applying preset: ${o}`),window.realisticAudio&&window.realisticAudio.stopAll();["rain","thunder","crickets","birds","fire","chimes","ocean","bowl","brown","wind","stream","owl","frogs","cicadas","leaves","wolf"].forEach(o=>{const e=document.getElementById(`toggle-${o}`);e&&(e.checked=!1)});const e={silent:{},forest:{sounds:["birds","wind","leaves"],volumes:{birds:60,wind:40,leaves:50}},rain:{sounds:["rain","thunder","wind"],volumes:{rain:70,thunder:40,wind:30}},night:{sounds:["crickets","owl","wind"],volumes:{crickets:60,owl:50,wind:30}},stream:{sounds:["stream","birds","wind"],volumes:{stream:70,birds:40,wind:30}},temple:{sounds:["bowl","chimes","wind"],volumes:{bowl:60,chimes:50,wind:20}},ocean:{sounds:["ocean","wind"],volumes:{ocean:70,wind:40}},summer:{sounds:["birds","cicadas","wind"],volumes:{birds:50,cicadas:60,wind:30}}}[o];e&&e.sounds&&e.sounds.forEach(o=>{const i=document.getElementById(`toggle-${o}`),n=document.getElementById(`volume-${o}`);if(i&&n){const s=e.volumes[o]||50;n.value=s,setVolume(o,s),i.checked=!0,toggleSound(o,!0)}}),saveSoundPreferences()},window.debugSoundSystem=function(){console.log("ğŸ”§ Sound System Debug:"),console.log("=".repeat(50)),console.log("\nğŸ“Š Real Audio Status:"),window.realisticAudio?(console.log("  Initialized:",window.realisticAudio.initialized),console.log("  Master Volume:",Math.round(100*window.realisticAudio.masterVolume)+"%"),console.log("  Active Sounds:",window.realisticAudio.getActiveSounds()),console.log("  Loaded Files:",Object.keys(window.realisticAudio.sounds))):console.log("  âŒ Not available"),console.log("\nğŸ¹ Synthesis Status:"),window.audioContext?(console.log("  AudioContext State:",window.audioContext.state),console.log("  Active Sounds:",window.activeSounds?Object.keys(window.activeSounds):"N/A")):console.log("  âŒ Not initialized"),console.log("\nğŸ›ï¸ Configuration:"),console.log("  Real Audio Enabled:",Object.keys(o).filter(e=>o[e])),console.log("  Synthesized:",Object.keys(o).filter(e=>!o[e])),console.log("\nğŸ§ª Test Commands:"),console.log('  testRealAudio("soundName") - Test a specific real audio sound'),console.log("  window.realisticAudio.debug() - Detailed real audio debug"),console.log("=".repeat(50))},window.testRealAudio=async function(o){if(window.realisticAudio){console.log(`ğŸ§ª Testing real audio: ${o}`);try{await window.realisticAudio.playSound(o),console.log(`âœ… ${o} playing`),setTimeout(()=>{window.realisticAudio.stopSound(o),console.log(`â¹ï¸ ${o} stopped`)},5e3)}catch(o){console.error("âŒ Test failed:",o)}}else console.error("âŒ Real audio manager not available")},window.checkMissingAudio=function(){if(console.log("ğŸ” Checking for missing audio files..."),!window.realisticAudio)return void console.error("âŒ Real audio manager not available");const e=Object.keys(o).filter(e=>o[e]),i=[],n=[];e.forEach(o=>{const e=window.realisticAudio.audioFiles[o];e?fetch(e,{method:"HEAD"}).then(s=>{s.ok?(n.push(o),console.log(`âœ… ${o}: ${e}`)):(i.push(o),console.warn(`âŒ ${o}: Not found at ${e}`))}).catch(()=>{i.push(o),console.warn(`âŒ ${o}: Failed to fetch ${e}`)}):(i.push(o),console.warn(`âš ï¸ ${o}: No file path configured`))}),setTimeout(()=>{console.log("\nğŸ“Š Summary:"),console.log(`âœ… Available: ${n.length}/${e.length}`),console.log(`âŒ Missing: ${i.length}/${e.length}`),i.length>0&&(console.log("\nğŸ“¥ Missing files:",i),console.log("ğŸ“– See NATURE_SOUNDS_SOURCING_GUIDE.md for download instructions"))},1e3)},console.log("âœ… Soundboard Integration complete"),console.log("ğŸ”§ Use debugSoundSystem() for debug info"),console.log("ğŸ” Use checkMissingAudio() to verify audio files")});