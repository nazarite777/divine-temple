const criticalCSS="\n/* Critical styles for immediate rendering */\n:root {\n    --primary-bg: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);\n    --accent-purple: #8b5fbf;\n    --accent-gold: #d4af37;\n    --glass-bg: rgba(255, 255, 255, 0.1);\n    --glass-border: rgba(255, 255, 255, 0.2);\n}\n\nbody {\n    margin: 0;\n    padding: 0;\n    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\n    background: var(--primary-bg);\n    color: white;\n    line-height: 1.6;\n    overflow-x: hidden;\n}\n\n.hero-section {\n    min-height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    background: var(--primary-bg);\n}\n\n.glass-card {\n    background: var(--glass-bg);\n    backdrop-filter: blur(20px);\n    border: 1px solid var(--glass-border);\n    border-radius: 20px;\n    padding: 2rem;\n}\n\n.loading-spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid rgba(212, 175, 55, 0.3);\n    border-top: 4px solid var(--accent-gold);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin: 20px auto;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n";class PerformanceOptimizer{constructor(){this.metrics={loadStart:performance.now(),domReady:null,fullyLoaded:null,interactive:null},this.init()}init(){this.injectCriticalCSS(),this.setupLazyLoading(),this.setupImageOptimization(),this.setupResourceHints(),this.monitorPerformance(),this.setupServiceWorker()}injectCriticalCSS(){const e=document.createElement("style");e.textContent=criticalCSS,document.head.insertBefore(e,document.head.firstChild)}setupLazyLoading(){if("IntersectionObserver"in window){const e=document.querySelectorAll("img[data-src], iframe[data-src]"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const r=e.target;r.src=r.dataset.src,r.classList.add("loaded"),t.unobserve(r)}})});e.forEach(e=>t.observe(e))}}setupImageOptimization(){document.querySelectorAll("img").forEach(e=>{if(e.hasAttribute("loading")||e.setAttribute("loading","lazy"),"IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})});e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",t.observe(e)}})}setupResourceHints(){[{rel:"dns-prefetch",href:"//fonts.googleapis.com"},{rel:"dns-prefetch",href:"//fonts.gstatic.com"},{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""}].forEach(e=>{const t=document.createElement("link");Object.keys(e).forEach(r=>{t.setAttribute(r,e[r])}),document.head.appendChild(t)})}monitorPerformance(){if("loading"===document.readyState&&document.addEventListener("DOMContentLoaded",()=>{this.metrics.domReady=performance.now()-this.metrics.loadStart,this.reportMetric("DOM Ready",this.metrics.domReady)}),window.addEventListener("load",()=>{this.metrics.fullyLoaded=performance.now()-this.metrics.loadStart,this.reportMetric("Fully Loaded",this.metrics.fullyLoaded),this.analyzePerformance()}),"PerformanceObserver"in window){new PerformanceObserver(e=>{e.getEntries().forEach(e=>{"paint"===e.entryType&&this.reportMetric(e.name,e.startTime)})}).observe({entryTypes:["paint"]})}}reportMetric(e,t){console.log(`ðŸš€ Divine Temple Performance - ${e}: ${Math.round(t)}ms`);const r=JSON.parse(localStorage.getItem("divineTempleMetrics")||"{}");r[e]=Math.round(t),r.timestamp=(new Date).toISOString(),localStorage.setItem("divineTempleMetrics",JSON.stringify(r))}analyzePerformance(){const e=[];this.metrics.domReady>2e3&&e.push("Consider reducing JavaScript execution time for faster DOM ready"),this.metrics.fullyLoaded>5e3&&e.push("Optimize images and resources to improve load time");document.querySelectorAll("img").forEach(t=>{(t.naturalWidth>1920||t.naturalHeight>1080)&&e.push(`Large image detected: ${t.src} - consider optimization`)}),e.length>0?(console.log("ðŸ”§ Performance Recommendations:"),e.forEach(e=>console.log(`  â€¢ ${e}`))):console.log("âœ¨ Excellent performance! The Divine Temple loads swiftly.")}setupServiceWorker(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("ðŸŒŸ Service Worker registered for Divine Temple")}).catch(e=>{console.log("Service Worker registration failed:",e)})})}preloadResources(e){e.forEach(e=>{const t=document.createElement("link");t.rel="preload",t.href=e.href,t.as=e.as,e.type&&(t.type=e.type),document.head.appendChild(t)})}optimizeCSSDelivery(){document.querySelectorAll('link[rel="stylesheet"]').forEach(e=>{e.hasAttribute("data-critical")||(e.rel="preload",e.as="style",e.onload=function(){this.rel="stylesheet"})})}deferNonCriticalJS(){document.querySelectorAll("script[data-defer]").forEach(e=>{e.defer=!0})}}class ResourceOptimizer{static compressCSS(e){return e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\s+/g," ").replace(/;\s*}/g,"}").replace(/\s*{\s*/g,"{").replace(/}\s*/g,"}").replace(/:\s*/g,":").replace(/;\s*/g,";").trim()}static minifyJS(e){return e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/.*$/gm,"").replace(/\s+/g," ").replace(/;\s*}/g,"}").trim()}static createOptimizedImage(e,t,r=""){const n=document.createElement("img");return n.dataset.src=e,n.alt=t,n.className=r,n.loading="lazy",n.style.opacity="0",n.style.transition="opacity 0.3s ease",n.src="data:image/svg+xml;base64,"+btoa('\n            <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">\n                <rect width="100%" height="100%" fill="#1a1a2e"/>\n                <text x="50%" y="50%" font-family="Arial" font-size="14" fill="#d4af37" text-anchor="middle" dy=".3em">\n                    âœ¨ Loading Sacred Image âœ¨\n                </text>\n            </svg>\n        '),n}}const performanceOptimizer=new PerformanceOptimizer;window.PerformanceOptimizer=PerformanceOptimizer,window.ResourceOptimizer=ResourceOptimizer;