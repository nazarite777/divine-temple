/**\n * ACCESS CONTROL VERIFICATION SYSTEM\n * Use this script to test and verify access restrictions\n */\n\nclass AccessControlTester {\n    constructor() {\n        this.testResults = [];\n    }\n\n    // Test if only authorized users can access premium content\n    async runAccessTests() {\n        console.log('ğŸ” Running Access Control Tests...');\n        \n        const tests = [\n            this.testUnauthorizedUserBlocked,\n            this.testAuthorizedUserAccess,\n            this.testUnauthenticatedUserRedirect\n        ];\n        \n        for (const test of tests) {\n            try {\n                await test.call(this);\n            } catch (error) {\n                console.error('âŒ Test failed:', error);\n            }\n        }\n        \n        this.displayResults();\n    }\n    \n    // Test 1: Unauthorized user should be blocked\n    async testUnauthorizedUserBlocked() {\n        console.log('ğŸ§ª Test 1: Unauthorized user access');\n        \n        // Simulate user not in authorized list\n        const testUser = {\n            email: 'unauthorized@example.com',\n            uid: 'test_unauthorized_uid'\n        };\n        \n        const accessControl = new PremiumAccessControl();\n        const isAuthorized = await this.simulateUserCheck(testUser);\n        \n        if (!isAuthorized) {\n            this.testResults.push({ test: 'Unauthorized User Block', status: 'âœ… PASSED', message: 'Unauthorized user correctly blocked' });\n        } else {\n            this.testResults.push({ test: 'Unauthorized User Block', status: 'âŒ FAILED', message: 'Unauthorized user incorrectly granted access' });\n        }\n    }\n    \n    // Test 2: Authorized user should have access\n    async testAuthorizedUserAccess() {\n        console.log('ğŸ§ª Test 2: Authorized user access');\n        \n        // Test cbevvv@gmail.com\n        const testUser1 = {\n            email: 'cbevvv@gmail.com',\n            uid: 'test_authorized_uid_1'\n        };\n        \n        const isAuthorized1 = await this.simulateUserCheck(testUser1);\n        \n        // Test nazir23 (as username)\n        const testUser2 = {\n            email: 'nazir@example.com',\n            uid: 'test_authorized_uid_2'\n        };\n        \n        // Simulate username lookup\n        const isAuthorized2 = this.checkUsernameAccess('nazir23');\n        \n        if (isAuthorized1 && isAuthorized2) {\n            this.testResults.push({ test: 'Authorized User Access', status: 'âœ… PASSED', message: 'Both authorized users granted access' });\n        } else {\n            this.testResults.push({ test: 'Authorized User Access', status: 'âŒ FAILED', message: 'Authorized users incorrectly blocked' });\n        }\n    }\n    \n    // Test 3: Unauthenticated users should be redirected\n    async testUnauthenticatedUserRedirect() {\n        console.log('ğŸ§ª Test 3: Unauthenticated user redirect');\n        \n        // Simulate no user logged in\n        const accessControl = new PremiumAccessControl();\n        accessControl.currentUser = null;\n        \n        const shouldRedirect = !accessControl.currentUser;\n        \n        if (shouldRedirect) {\n            this.testResults.push({ test: 'Unauthenticated Redirect', status: 'âœ… PASSED', message: 'Unauthenticated users correctly redirected' });\n        } else {\n            this.testResults.push({ test: 'Unauthenticated Redirect', status: 'âŒ FAILED', message: 'Unauthenticated users not handled correctly' });\n        }\n    }\n    \n    // Simulate user authorization check\n    async simulateUserCheck(user) {\n        const AUTHORIZED_USERS = ['cbevvv@gmail.com', 'nazir23'];\n        \n        const userEmail = user.email ? user.email.toLowerCase() : '';\n        \n        return AUTHORIZED_USERS.some(authorizedUser => {\n            return userEmail === authorizedUser.toLowerCase();\n        });\n    }\n    \n    // Check username-based access\n    checkUsernameAccess(username) {\n        const AUTHORIZED_USERS = ['cbevvv@gmail.com', 'nazir23'];\n        \n        const lowerUsername = username ? username.toLowerCase() : '';\n        \n        return AUTHORIZED_USERS.some(authorizedUser => {\n            return lowerUsername === authorizedUser.toLowerCase();\n        });\n    }\n    \n    // Display test results\n    displayResults() {\n        console.log('\\nğŸ“Š ACCESS CONTROL TEST RESULTS:');\n        console.log('================================');\n        \n        this.testResults.forEach(result => {\n            console.log(`${result.status} ${result.test}: ${result.message}`);\n        });\n        \n        const passed = this.testResults.filter(r => r.status.includes('âœ…')).length;\n        const total = this.testResults.length;\n        \n        console.log(`\\nğŸ“ˆ Tests Passed: ${passed}/${total}`);\n        \n        if (passed === total) {\n            console.log('ğŸ‰ ALL TESTS PASSED - Access control is working correctly!');\n        } else {\n            console.log('âš ï¸ SOME TESTS FAILED - Review access control implementation');\n        }\n    }\n}\n\n// Global function to run tests\nwindow.runAccessControlTests = function() {\n    const tester = new AccessControlTester();\n    tester.runAccessTests();\n};\n\n// Global function to check current user authorization\nwindow.checkMyAccess = function() {\n    if (window.PremiumAccessControl) {\n        const status = window.PremiumAccessControl.getAuthorizationStatus();\n        console.log('ğŸ‘¤ Current User Authorization Status:');\n        console.log('=====================================');\n        console.log('Authenticated:', status.isAuthenticated ? 'âœ…' : 'âŒ');\n        console.log('Authorized for Premium:', status.isAuthorized ? 'âœ…' : 'âŒ');\n        console.log('Membership Level:', status.membershipLevel);\n        console.log('User Email:', status.userEmail || 'Not logged in');\n        \n        if (status.isAuthenticated && !status.isAuthorized) {\n            console.log('ğŸš« WARNING: You are logged in but NOT authorized for premium content!');\n        }\n    } else {\n        console.log('âŒ Access Control System not loaded');\n    }\n};\n\n// Auto-run on console\nconsole.log('ğŸ” Access Control Tester loaded');\nconsole.log('ğŸ“ Usage:');\nconsole.log('  - runAccessControlTests() - Run full test suite');\nconsole.log('  - checkMyAccess() - Check current user authorization');\nconsole.log('\\nâš¡ AUTHORIZED USERS ONLY:');\nconsole.log('  - cbevvv@gmail.com');\nconsole.log('  - nazir23 (username)');