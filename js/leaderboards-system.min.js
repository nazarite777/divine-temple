class LeaderboardsSystem{constructor(){this.currentUser=null,this.useLocalStorage=!1,this.leaderboards={global:[],weekly:[],friends:[],sections:{}},this.rankingCategories=["xp","level","achievements","streak","activities"],this.currentCategory="xp",this.currentView="global",this.updateInterval=null,this.init()}async init(){console.log("ğŸ† Leaderboards System initialized"),"undefined"!=typeof firebase&&firebase.auth?(this.useLocalStorage=!1,await this.initFirebase()):(console.warn("Firebase not available. Leaderboards will use local data only."),this.useLocalStorage=!0,this.loadLocalData()),this.updateInterval=setInterval(()=>{this.refreshCurrentLeaderboard()},3e5),this.checkWeeklyRewards()}async initFirebase(){try{firebase.auth().onAuthStateChanged(async e=>{e?(this.currentUser={uid:e.uid,email:e.email,displayName:e.displayName||e.email.split("@")[0]},await this.loadGlobalLeaderboard(),await this.loadWeeklyLeaderboard()):this.currentUser=null})}catch(e){console.error("Firebase initialization error:",e),this.useLocalStorage=!0,this.loadLocalData()}}loadLocalData(){this.currentUser={uid:localStorage.getItem("divine_temple_user_id")||"local_user_"+Date.now(),email:"local@user.com",displayName:"Local User"},this.leaderboards.global=this.generateMockLeaderboard(50),this.leaderboards.weekly=this.generateMockLeaderboard(30)}generateMockLeaderboard(e){const n=["Spiritual Seeker","Mystic Master","Divine Soul","Enlightened One","Cosmic Wanderer","Sacred Heart","Light Worker","Crystal Healer","Meditation Guru","Zen Master","Chakra Aligner","Energy Healer"],a=[];for(let t=0;t<e;t++)a.push({uid:"mock_"+t,displayName:n[t%n.length]+" "+(Math.floor(t/n.length)+1),xp:Math.floor(5e4*Math.random())+1e3,level:Math.floor(50*Math.random())+1,achievements:Math.floor(50*Math.random()),streak:Math.floor(100*Math.random()),activities:Math.floor(500*Math.random())});return a.sort((e,n)=>n.xp-e.xp),a}async loadGlobalLeaderboard(e="xp",n=100){if(!this.useLocalStorage)try{const a=firebase.firestore(),t=await a.collection("userProgress").orderBy(e,"desc").limit(n).get(),r=[];for(const e of t.docs){const n=e.data(),t=await a.collection("users").doc(e.id).get(),i=t.exists?t.data():{};r.push({uid:e.id,displayName:i.displayName||i.email?.split("@")[0]||"Anonymous",photoURL:i.photoURL||null,xp:n.xp||0,level:n.level||1,rank:n.rank||"Beginner",achievements:n.achievements?.length||0,streak:n.streakDays||0,activities:n.totalActivities||0,lastActive:n.lastActive||null})}this.leaderboards.global=r,console.log(`Loaded global leaderboard: ${r.length} players`),window.dispatchEvent(new CustomEvent("leaderboard-updated",{detail:{type:"global",category:e}}))}catch(e){console.error("Error loading global leaderboard:",e)}}async loadWeeklyLeaderboard(e="xp",n=50){if(!this.useLocalStorage)try{const a=firebase.firestore(),t=this.getWeekStart(),r=await a.collection("weeklyProgress").where("weekStart","==",t.toISOString()).orderBy(e,"desc").limit(n).get(),i=[];for(const e of r.docs){const n=e.data(),t=await a.collection("users").doc(n.userId).get(),r=t.exists?t.data():{};i.push({uid:n.userId,displayName:r.displayName||"Anonymous",photoURL:r.photoURL||null,xp:n.xp||0,level:n.level||1,achievements:n.achievements||0,activities:n.activities||0})}this.leaderboards.weekly=i,console.log(`Loaded weekly leaderboard: ${i.length} players`),window.dispatchEvent(new CustomEvent("leaderboard-updated",{detail:{type:"weekly",category:e}}))}catch(e){console.error("Error loading weekly leaderboard:",e)}}getWeekStart(){const e=new Date,n=e.getDay(),a=e.getDate()-n+(0===n?-6:1),t=new Date(e.setDate(a));return t.setHours(0,0,0,0),t}async updateWeeklyProgress(e,n=1){if(!this.useLocalStorage&&this.currentUser)try{const a=firebase.firestore(),t=this.getWeekStart(),r=`${this.currentUser.uid}_${t.toISOString()}`,i=a.collection("weeklyProgress").doc(r);await i.set({userId:this.currentUser.uid,weekStart:t.toISOString(),xp:firebase.firestore.FieldValue.increment(e),activities:firebase.firestore.FieldValue.increment(n),lastUpdate:firebase.firestore.FieldValue.serverTimestamp()},{merge:!0})}catch(e){console.error("Error updating weekly progress:",e)}}async loadFriendsLeaderboard(){if(this.useLocalStorage)this.leaderboards.friends=this.generateMockLeaderboard(10);else if(window.friendSystem&&window.friendSystem.friends)try{const e=firebase.firestore(),n=window.friendSystem.friends;if(0===n.length)return void(this.leaderboards.friends=[]);const a=[];for(const t of n){const n=await e.collection("userProgress").doc(t).get(),r=await e.collection("users").doc(t).get();if(n.exists&&r.exists){const e=n.data(),i=r.data();a.push({uid:t,displayName:i.displayName||"Friend",photoURL:i.photoURL||null,xp:e.xp||0,level:e.level||1,achievements:e.achievements?.length||0,streak:e.streakDays||0})}}window.progressSystem&&a.push({uid:this.currentUser.uid,displayName:this.currentUser.displayName,xp:window.progressSystem.xp,level:window.progressSystem.level,achievements:window.progressSystem.achievements.length,streak:window.progressSystem.streakDays}),a.sort((e,n)=>n.xp-e.xp),this.leaderboards.friends=a,window.dispatchEvent(new CustomEvent("leaderboard-updated",{detail:{type:"friends"}}))}catch(e){console.error("Error loading friends leaderboard:",e)}else this.leaderboards.friends=[]}async loadSectionLeaderboard(e,n=50){if(this.useLocalStorage)this.leaderboards.sections[e]=this.generateMockLeaderboard(20);else try{const a=firebase.firestore(),t=await a.collection("userProgress").orderBy(`sectionProgress.${e}.xp`,"desc").limit(n).get(),r=[];for(const n of t.docs){const t=n.data(),i=t.sectionProgress?.[e]||{},o=await a.collection("users").doc(n.id).get(),s=o.exists?o.data():{};r.push({uid:n.id,displayName:s.displayName||"Anonymous",photoURL:s.photoURL||null,xp:i.xp||0,activities:i.activities||0,lastActive:i.lastActive||null})}this.leaderboards.sections[e]=r,window.dispatchEvent(new CustomEvent("leaderboard-updated",{detail:{type:"section",section:e}}))}catch(n){console.error(`Error loading section leaderboard for ${e}:`,n)}}async getMyRank(e="global",n="xp"){if(!this.currentUser)return null;const a=this.leaderboards[e]||[],t=a.findIndex(e=>e.uid===this.currentUser.uid);if(-1===t)return{rank:null,percentile:null,message:"Keep playing to join the leaderboard!"};return{rank:t+1,percentile:((a.length-t)/a.length*100).toFixed(1),total:a.length,player:a[t]}}async checkWeeklyRewards(){if(this.useLocalStorage||!this.currentUser)return;const e=localStorage.getItem("last_weekly_reward_check"),n=this.getWeekStart().toISOString();if(e!==n)try{const e=firebase.firestore(),a=new Date(this.getWeekStart());a.setDate(a.getDate()-7);const t=await e.collection("weeklyProgress").doc(`${this.currentUser.uid}_${a.toISOString()}`).get();if(t.exists){t.data();const n=await e.collection("weeklyProgress").where("weekStart","==",a.toISOString()).orderBy("xp","desc").get();let r=0;if(n.forEach((e,n)=>{e.data().userId===this.currentUser.uid&&(r=n+1)}),r>0){const e=this.calculateWeeklyRewards(r,n.size);e.xp>0&&window.progressSystem&&(window.progressSystem.awardXP(e.xp,`Weekly Leaderboard Reward: Rank #${r}! ğŸ†`,"leaderboards"),this.showWeeklyRewardNotification(r,e))}}localStorage.setItem("last_weekly_reward_check",n)}catch(e){console.error("Error checking weekly rewards:",e)}}calculateWeeklyRewards(e,n){let a=0,t=null;return 1===e?(a=1e3,t="ğŸ¥‡ Weekly Champion"):2===e?(a=750,t="ğŸ¥ˆ Weekly Runner-up"):3===e?(a=500,t="ğŸ¥‰ Weekly Bronze"):e<=10?(a=300,t="â­ Top 10"):e<=25?(a=150,t="âœ¨ Top 25"):e<=50?(a=75,t="ğŸ’« Top 50"):e<=.1*n&&(a=50,t="ğŸŒŸ Top 10%"),{xp:a,badge:t,rank:e,totalPlayers:n}}showWeeklyRewardNotification(e,n){const a=document.createElement("div");a.className="weekly-reward-notification",a.innerHTML=`\n            <div class="reward-notification-content">\n                <div class="reward-icon">ğŸ†</div>\n                <div class="reward-text">\n                    <h4>Weekly Leaderboard Reward!</h4>\n                    <p>${n.badge}</p>\n                    <p class="reward-xp">+${n.xp} XP</p>\n                    <p class="reward-rank">You ranked #${e} out of ${n.totalPlayers} players!</p>\n                </div>\n            </div>\n        `,document.body.appendChild(a),setTimeout(()=>a.remove(),8e3)}refreshCurrentLeaderboard(){switch(this.currentView){case"global":this.loadGlobalLeaderboard(this.currentCategory);break;case"weekly":this.loadWeeklyLeaderboard(this.currentCategory);break;case"friends":this.loadFriendsLeaderboard()}}openLeaderboardModal(){const e=document.createElement("div");e.className="leaderboard-modal",e.id="leaderboardModal",e.innerHTML=`\n            <div class="leaderboard-modal-content">\n                <div class="leaderboard-modal-header">\n                    <h2>ğŸ† Leaderboards</h2>\n                    <button onclick="document.getElementById('leaderboardModal').remove()" class="modal-close">âœ•</button>\n                </div>\n\n                <div class="leaderboard-tabs">\n                    <button class="leaderboard-tab active" onclick="window.leaderboardsSystem.switchLeaderboardTab('global')">\n                        ğŸŒ Global\n                    </button>\n                    <button class="leaderboard-tab" onclick="window.leaderboardsSystem.switchLeaderboardTab('weekly')">\n                        ğŸ“… Weekly\n                    </button>\n                    <button class="leaderboard-tab" onclick="window.leaderboardsSystem.switchLeaderboardTab('friends')">\n                        ğŸ‘¥ Friends\n                    </button>\n                </div>\n\n                <div class="leaderboard-categories">\n                    ${this.rankingCategories.map(e=>`\n                        <button class="category-btn ${e===this.currentCategory?"active":""}"\n                                onclick="window.leaderboardsSystem.switchCategory('${e}')">\n                            ${this.getCategoryIcon(e)} ${e.toUpperCase()}\n                        </button>\n                    `).join("")}\n                </div>\n\n                <div class="my-rank-banner" id="myRankBanner">\n                    ${this.renderMyRankBanner()}\n                </div>\n\n                <div class="leaderboard-content" id="leaderboardContent">\n                    ${this.renderLeaderboardList("global")}\n                </div>\n            </div>\n        `,this.addLeaderboardStyles(),document.body.appendChild(e)}async switchLeaderboardTab(e){this.currentView=e;document.querySelectorAll(".leaderboard-tab").forEach(e=>e.classList.remove("active")),event.target.classList.add("active");const n=document.getElementById("leaderboardContent");n.innerHTML='<p class="loading-text">Loading...</p>',"global"===e&&0===this.leaderboards.global.length?await this.loadGlobalLeaderboard(this.currentCategory):"weekly"===e&&0===this.leaderboards.weekly.length?await this.loadWeeklyLeaderboard(this.currentCategory):"friends"===e&&await this.loadFriendsLeaderboard(),n.innerHTML=this.renderLeaderboardList(e);const a=document.getElementById("myRankBanner");a&&(a.innerHTML=await this.renderMyRankBanner(e))}async switchCategory(e){this.currentCategory=e;document.querySelectorAll(".category-btn").forEach(e=>e.classList.remove("active")),event.target.classList.add("active");const n=document.getElementById("leaderboardContent");n.innerHTML='<p class="loading-text">Loading...</p>',"global"===this.currentView?await this.loadGlobalLeaderboard(e):"weekly"===this.currentView&&await this.loadWeeklyLeaderboard(e),n.innerHTML=this.renderLeaderboardList(this.currentView)}getCategoryIcon(e){return{xp:"âš¡",level:"ğŸ¯",achievements:"ğŸ†",streak:"ğŸ”¥",activities:"ğŸ“Š"}[e]||"â­"}async renderMyRankBanner(e="global"){const n=await this.getMyRank(e,this.currentCategory);return n&&n.rank?`\n            <div class="rank-banner-content ${n.rank<=3?"top-rank":""}">\n                <div class="rank-icon">${this.getRankMedal(n.rank)}</div>\n                <div class="rank-info">\n                    <div class="rank-label">Your Rank</div>\n                    <div class="rank-value">#${n.rank} <span class="rank-total">/ ${n.total}</span></div>\n                    <div class="rank-percentile">Top ${n.percentile}%</div>\n                </div>\n                <div class="rank-stats">\n                    <div class="stat-item">\n                        <div class="stat-value">${n.player.xp.toLocaleString()}</div>\n                        <div class="stat-label">XP</div>\n                    </div>\n                    <div class="stat-item">\n                        <div class="stat-value">${n.player.level}</div>\n                        <div class="stat-label">Level</div>\n                    </div>\n                </div>\n            </div>\n        `:`\n                <div class="rank-banner-content">\n                    <div class="rank-icon">ğŸ“Š</div>\n                    <div class="rank-info">\n                        <div class="rank-label">Your Rank</div>\n                        <div class="rank-value">Not yet ranked</div>\n                        <div class="rank-message">${n?.message||"Keep playing to join!"}</div>\n                    </div>\n                </div>\n            `}getRankMedal(e){return 1===e?"ğŸ¥‡":2===e?"ğŸ¥ˆ":3===e?"ğŸ¥‰":e<=10?"â­":e<=25?"âœ¨":"ğŸ“Š"}renderLeaderboardList(e){const n=this.leaderboards[e]||[];return 0===n.length?'\n                <div class="empty-state">\n                    <div class="empty-icon">ğŸ†</div>\n                    <h3>No rankings yet</h3>\n                    <p>Be the first to join the leaderboard!</p>\n                </div>\n            ':`\n            <div class="leaderboard-list">\n                ${n.slice(0,100).map((e,n)=>this.renderLeaderboardItem(e,n+1)).join("")}\n            </div>\n        `}renderLeaderboardItem(e,n){const a=e.uid===this.currentUser?.uid;return`\n            <div class="leaderboard-item ${a?"current-user":""} ${n<=3?"top-three":""}">\n                <div class="item-rank">\n                    ${n<=3?this.getRankMedal(n):`#${n}`}\n                </div>\n\n                <div class="item-avatar">\n                    ${e.photoURL?`<img src="${e.photoURL}" alt="${e.displayName}">`:`<div class="avatar-placeholder">${(e.displayName||"U")[0].toUpperCase()}</div>`}\n                </div>\n\n                <div class="item-info">\n                    <div class="item-name">\n                        ${e.displayName}\n                        ${a?'<span class="you-badge">YOU</span>':""}\n                    </div>\n                    <div class="item-stats">\n                        ${this.renderPlayerStats(e)}\n                    </div>\n                </div>\n\n                <div class="item-score">\n                    ${this.renderScoreByCategory(e,this.currentCategory)}\n                </div>\n            </div>\n        `}renderPlayerStats(e){return`\n            <span>Lvl ${e.level||1}</span>\n            ${void 0!==e.achievements?`<span>â€¢ ${e.achievements} ğŸ†</span>`:""}\n            ${void 0!==e.streak?`<span>â€¢ ${e.streak} ğŸ”¥</span>`:""}\n        `}renderScoreByCategory(e,n){const a=e[n]||0;switch(n){case"xp":return`\n                    <div class="score-value">${a.toLocaleString()}</div>\n                    <div class="score-label">XP</div>\n                `;case"level":return`\n                    <div class="score-value">${a}</div>\n                    <div class="score-label">Level</div>\n                `;case"achievements":return`\n                    <div class="score-value">${a}</div>\n                    <div class="score-label">ğŸ†</div>\n                `;case"streak":return`\n                    <div class="score-value">${a}</div>\n                    <div class="score-label">Days ğŸ”¥</div>\n                `;case"activities":return`\n                    <div class="score-value">${a}</div>\n                    <div class="score-label">Activities</div>\n                `;default:return""}}addLeaderboardStyles(){if(document.getElementById("leaderboardStyles"))return;const e=document.createElement("style");e.id="leaderboardStyles",e.textContent="\n            .leaderboard-modal {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: rgba(0,0,0,0.8);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 10000;\n                animation: fadeIn 0.3s ease;\n            }\n\n            .leaderboard-modal-content {\n                background: white;\n                border-radius: 20px;\n                width: 90%;\n                max-width: 800px;\n                max-height: 90vh;\n                overflow: hidden;\n                display: flex;\n                flex-direction: column;\n                animation: slideUp 0.3s ease;\n            }\n\n            .leaderboard-modal-header {\n                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n                color: white;\n                padding: 25px 30px;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n\n            .leaderboard-modal-header h2 {\n                margin: 0;\n                font-size: 28px;\n            }\n\n            .modal-close {\n                background: rgba(255,255,255,0.2);\n                border: none;\n                color: white;\n                width: 32px;\n                height: 32px;\n                border-radius: 50%;\n                cursor: pointer;\n                font-size: 20px;\n            }\n\n            .leaderboard-tabs {\n                display: flex;\n                border-bottom: 2px solid #e0e0e0;\n                background: #f9f9f9;\n            }\n\n            .leaderboard-tab {\n                flex: 1;\n                padding: 15px;\n                border: none;\n                background: none;\n                cursor: pointer;\n                font-weight: 600;\n                color: #666;\n                transition: all 0.2s;\n            }\n\n            .leaderboard-tab.active {\n                color: #f5576c;\n                background: white;\n                border-bottom: 3px solid #f5576c;\n            }\n\n            .leaderboard-categories {\n                display: flex;\n                gap: 8px;\n                padding: 15px 20px;\n                background: #f9f9f9;\n                border-bottom: 1px solid #e0e0e0;\n                overflow-x: auto;\n            }\n\n            .category-btn {\n                padding: 8px 16px;\n                border: 2px solid #e0e0e0;\n                background: white;\n                border-radius: 20px;\n                cursor: pointer;\n                font-weight: 600;\n                font-size: 13px;\n                transition: all 0.2s;\n                white-space: nowrap;\n            }\n\n            .category-btn.active {\n                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n                color: white;\n                border-color: transparent;\n            }\n\n            .my-rank-banner {\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                color: white;\n                padding: 20px;\n                margin: 20px;\n                border-radius: 15px;\n            }\n\n            .rank-banner-content {\n                display: flex;\n                align-items: center;\n                gap: 20px;\n            }\n\n            .rank-banner-content.top-rank {\n                background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);\n                padding: 10px;\n                border-radius: 12px;\n                margin: -10px;\n            }\n\n            .rank-icon {\n                font-size: 48px;\n                flex-shrink: 0;\n            }\n\n            .rank-info {\n                flex: 1;\n            }\n\n            .rank-label {\n                font-size: 13px;\n                opacity: 0.9;\n                margin-bottom: 5px;\n            }\n\n            .rank-value {\n                font-size: 32px;\n                font-weight: bold;\n                line-height: 1;\n                margin-bottom: 5px;\n            }\n\n            .rank-total {\n                font-size: 18px;\n                opacity: 0.8;\n            }\n\n            .rank-percentile, .rank-message {\n                font-size: 14px;\n                opacity: 0.9;\n            }\n\n            .rank-stats {\n                display: flex;\n                gap: 20px;\n            }\n\n            .stat-item {\n                text-align: center;\n            }\n\n            .stat-value {\n                font-size: 24px;\n                font-weight: bold;\n            }\n\n            .stat-label {\n                font-size: 12px;\n                opacity: 0.9;\n                margin-top: 2px;\n            }\n\n            .leaderboard-content {\n                flex: 1;\n                overflow-y: auto;\n                padding: 20px;\n            }\n\n            .leaderboard-list {\n                display: flex;\n                flex-direction: column;\n                gap: 12px;\n            }\n\n            .leaderboard-item {\n                display: flex;\n                align-items: center;\n                gap: 15px;\n                padding: 15px;\n                background: #f9f9f9;\n                border-radius: 12px;\n                transition: all 0.2s;\n            }\n\n            .leaderboard-item:hover {\n                background: #f0f0f0;\n                transform: translateX(5px);\n            }\n\n            .leaderboard-item.top-three {\n                background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 140, 0, 0.1) 100%);\n                border-left: 4px solid #ffd700;\n            }\n\n            .leaderboard-item.current-user {\n                background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%);\n                border-left: 4px solid #667eea;\n                box-shadow: 0 2px 10px rgba(102, 126, 234, 0.2);\n            }\n\n            .item-rank {\n                font-size: 24px;\n                font-weight: bold;\n                color: #666;\n                min-width: 50px;\n                text-align: center;\n            }\n\n            .leaderboard-item.top-three .item-rank {\n                font-size: 32px;\n            }\n\n            .item-avatar {\n                width: 50px;\n                height: 50px;\n                border-radius: 50%;\n                overflow: hidden;\n                flex-shrink: 0;\n            }\n\n            .item-avatar img {\n                width: 100%;\n                height: 100%;\n                object-fit: cover;\n            }\n\n            .avatar-placeholder {\n                width: 100%;\n                height: 100%;\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                color: white;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 24px;\n                font-weight: bold;\n            }\n\n            .item-info {\n                flex: 1;\n            }\n\n            .item-name {\n                font-size: 16px;\n                font-weight: 600;\n                margin-bottom: 5px;\n                display: flex;\n                align-items: center;\n                gap: 8px;\n            }\n\n            .you-badge {\n                background: #667eea;\n                color: white;\n                padding: 2px 8px;\n                border-radius: 10px;\n                font-size: 11px;\n                font-weight: bold;\n            }\n\n            .item-stats {\n                font-size: 13px;\n                color: #666;\n            }\n\n            .item-score {\n                text-align: right;\n            }\n\n            .score-value {\n                font-size: 24px;\n                font-weight: bold;\n                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n                -webkit-background-clip: text;\n                -webkit-text-fill-color: transparent;\n            }\n\n            .score-label {\n                font-size: 12px;\n                color: #999;\n                margin-top: 2px;\n            }\n\n            .empty-state {\n                text-align: center;\n                padding: 60px 20px;\n                color: #999;\n            }\n\n            .empty-icon {\n                font-size: 64px;\n                margin-bottom: 20px;\n            }\n\n            .empty-state h3 {\n                margin: 0 0 10px 0;\n                color: #666;\n            }\n\n            .loading-text {\n                text-align: center;\n                padding: 40px;\n                color: #999;\n            }\n\n            .weekly-reward-notification {\n                position: fixed;\n                top: 80px;\n                right: 20px;\n                z-index: 10001;\n                background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);\n                color: white;\n                padding: 25px;\n                border-radius: 15px;\n                box-shadow: 0 10px 30px rgba(255, 140, 0, 0.5);\n                animation: slideInRight 0.5s ease;\n                max-width: 400px;\n            }\n\n            .reward-notification-content {\n                display: flex;\n                gap: 20px;\n                align-items: flex-start;\n            }\n\n            .reward-icon {\n                font-size: 48px;\n            }\n\n            .reward-text h4 {\n                margin: 0 0 8px 0;\n                font-size: 18px;\n            }\n\n            .reward-text p {\n                margin: 5px 0;\n            }\n\n            .reward-xp {\n                font-size: 24px;\n                font-weight: bold;\n            }\n\n            .reward-rank {\n                font-size: 13px;\n                opacity: 0.95;\n            }\n\n            @keyframes fadeIn {\n                from { opacity: 0; }\n                to { opacity: 1; }\n            }\n\n            @keyframes slideUp {\n                from {\n                    transform: translateY(50px);\n                    opacity: 0;\n                }\n                to {\n                    transform: translateY(0);\n                    opacity: 1;\n                }\n            }\n\n            @keyframes slideInRight {\n                from {\n                    transform: translateX(400px);\n                    opacity: 0;\n                }\n                to {\n                    transform: translateX(0);\n                    opacity: 1;\n                }\n            }\n        ",document.head.appendChild(e)}destroy(){this.updateInterval&&clearInterval(this.updateInterval)}}"undefined"!=typeof window&&(window.leaderboardsSystem=new LeaderboardsSystem,console.log("ğŸ† Leaderboards System ready!"),window.addEventListener("xp-awarded",e=>{window.leaderboardsSystem&&window.leaderboardsSystem.updateWeeklyProgress(e.detail.amount,1)}));